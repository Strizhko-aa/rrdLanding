{"version":3,"sources":["webpack:///webpack/bootstrap fc927ca9153bd0b6f1d8","webpack:///./src/js/modules/dev/_helpers.js","webpack:///./src/js/index.js","webpack:///./src/js/components/Common.js","webpack:///./src/js/modules/polyfils/IntersectionObserver.js","webpack:///./src/js/modules/polyfils/Find.js","webpack:///./src/js/modules/polyfils/forEach.js","webpack:///./src/js/components/Popup.js","webpack:///./src/js/components/Form.js","webpack:///./src/js/components/Validators.js","webpack:///./src/js/components/Rrd.js","webpack:///./src/js/pages/Home.js"],"names":["currentPage","document","querySelector","dataset","page","Resp","window","innerWidth","matchMedia","matches","css","active","randomString","length","Math","random","toString","substr","debounce","func","context","wait","immediate","timeout","args","arguments","later","apply","callNow","clearTimeout","setTimeout","fadeOut","el","style","opacity","fade","display","requestAnimationFrame","fadeIn","val","parseFloat","easings","linear","t","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","Home","console","warn","require","Common","self","state","scrollTrigger","anchorLinks","querySelectorAll","activeBlock","blockBreakpoints","sectionEls","addEventListener","event","init","fixHeader","toogleMenu","scrollInvoke","resizeCheck","inputFocus","openTabs","getActiveSceen","selectTarif","resized","doneResizing","isTablet","header","onscroll","scrolled","pageYOffset","documentElement","scrollTop","classList","add","remove","burger","mainMenu","toggle","prises","index","elem","localStorage","setItem","location","href","destination","duration","easing","callback","start","startTime","performance","now","Date","getTime","documentHeight","max","body","scrollHeight","offsetHeight","clientHeight","windowHeight","innerHeight","getElementsByTagName","destinationOffset","offsetTop","destinationOffsetToScroll","round","scroll","time","min","timeFunction","ceil","link","e","scrollTargetEl","target","getAttribute","scrollTo","getElementById","parentNode","openMenu","openBurger","click","formInputs","input","value","btns","btn","hiddenEl","nextElementSibling","controlEl","elementClasses","className","replace","removeClass","addClass","isShowing","indexOf","trim","sections","leaveTrigger","calculateAdjustedBlockPositions","initObserver","Array","prototype","slice","call","viewportHeight","docHeight","map","top","getBoundingClientRect","oldOffset","options","threshold","bottom","handleIntersectionEvent","entries","find","bp","abs","forEach","observer","IntersectionObserver","observe","element","IntersectionObserverEntry","Object","defineProperty","get","intersectionRatio","registry","entry","rootBounds","boundingClientRect","intersectionRect","getEmptyRect","isIntersecting","targetRect","targetArea","width","height","intersectionArea","Number","toFixed","opt_options","Error","root","nodeType","_checkForIntersections","throttle","bind","THROTTLE_TIMEOUT","_callback","_observationTargets","_queuedEntries","_rootMarginValues","_parseRootMargin","rootMargin","thresholds","_initThresholds","margin","unit","join","POLL_INTERVAL","USE_MUTATION_OBSERVER","isTargetAlreadyObserved","some","item","_registerInstance","push","_monitorIntersections","unobserve","filter","_unmonitorIntersections","_unregisterInstance","disconnect","takeRecords","records","opt_threshold","isArray","sort","i","a","isNaN","opt_rootMargin","marginString","margins","split","parts","exec","_monitoringIntersections","_monitoringInterval","setInterval","addEvent","_domObserver","MutationObserver","attributes","childList","characterData","subtree","clearInterval","removeEvent","rootIsInDom","_rootIsInDom","rootRect","_getRootRect","rootContainsTarget","_rootContainsTarget","oldEntry","_computeTargetAndRootIntersection","newEntry","_hasCrossedThreshold","getComputedStyle","parent","getParentNode","atRoot","parentRect","parentComputedStyle","overflow","computeRectIntersection","html","left","right","clientWidth","_expandRectByRootMargin","rect","newRect","oldRatio","newRatio","containsDeep","splice","fn","timer","node","opt_useCapture","attachEvent","removeEventListener","detatchEvent","rect1","rect2","err","child","host","assignedSlot","predicate","TypeError","o","len","thisArg","k","kValue","undefined","configurable","writable","NodeList","Popup","popup","animationInner","animationName","animatedElement","mainTag","openModalWindow","closeModalWindow","openBtn","fixScrollBody","waitTime","closeBtn","returnScrollBody","marginRight","offsetWidth","paddingRight","Form","formValid","currentForm","apiHost","origin","cookie","submitForm","fields","field","type","Validator","validateName","validateEmail","setValid","validatePassword","validatePrivacy","validateConfirmPassword","validatePhone","validateMessege","fieldsArr","isValid","array","contains","every","messege","innerHTML","$forms","form","preventDefault","validateFields","removeAttribute","currentFormId","sendFeedBack","login","registration","name","match","RegExp","decodeURIComponent","mode","Rrd","firstName","checkIfEmpty","checkIfOnlyLetters","password","minLength","maxLength","meetLength","containsCharacters","checked","setInvalid","confirmPassword","email","phone","isEmpty","test","code","regEx","matchWithRegEx","message","lastChild","authorized","validToken","setFlagSeeLanding","setAuthCookieForFeedback","Promise","getCookie","resolve","$formdata","FormData","_url","request","XMLHttpRequest","open","setRequestHeader","send","JSON","stringify","onload","status","_cookieHeader","parse","responseText","token","then","title","text","postFeedBack","data","username","password1","password2","first_name","last_name","is_boss","alert","_link","log","_errMessage","onerror","_rrdtkn","method","url","setHeaders"],"mappings":"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","file":"js/index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap fc927ca9153bd0b6f1d8","/**\n * Commonly used constants and functions.\n *\n * @module Helpers\n */\n\n/**\n * Detect current page.\n *\n * @constant\n * @type {String}\n */\nexport const currentPage = document.querySelector('main').dataset.page;\n\n/**\n * Match media device indicator.\n */\nexport class Resp {\n\t/**\n\t * Get window's current width.\n\t *\n\t * @get\n\t * @static\n\t * @return {Number}\n\t */\n\tstatic get currWidth() {\n\t\treturn window.innerWidth;\n\t}\n\n\t/**\n\t * Detect touch events.\n\t *\n\t * @get\n\t * @static\n\t * @return {Boolean}\n\t */\n\tstatic get isTouch() {\n\t\treturn 'ontouchstart' in window;\n\t}\n\n\t/**\n\t * Detect desktop device.\n\t *\n\t * @get\n\t * @static\n\t * @return {Boolean}\n\t */\n\tstatic get isDesk() {\n\t\treturn window.matchMedia(`(min-width: 1280px)`).matches;\n\t}\n\n\t/**\n\t * Detect tablet device.\n\t *\n\t * @get\n\t * @static\n\t * @return {Boolean}\n\t */\n\tstatic get isTablet() {\n\t\treturn window.matchMedia(`(max-width: 992px)`).matches;\n\t}\n\n\t/**\n\t * Detect mobile device.\n\t *\n\t * @get\n\t * @static\n\t * @return {Boolean}\n\t */\n\tstatic get isMobile() {\n\t\treturn window.matchMedia(`(max-width: 767px)`).matches;\n\t}\n}\n\n/**\n * Css class names.\n *\n * @constant\n * @type {Object}\n */\nexport const css = {\n\tactive: 'active'\n};\n\n/**\n * Generate string of random letters.\n *\n * @param {Number} length\n */\nexport const randomString = (length = 10) => Math.random().toString(36).substr(2, length > 10 ? length : 10);\n\n/**\n * Returns a function, that, as long as it continues to be invoked, will not be triggered.\n *\n * @param {Function} func\n * @param {Object} context\n * @param {Number} wait\n * @param {Boolean} [immediate]\n * @returns {Function}\n */\nexport const debounce = (func, context, wait, immediate) => {\n\tlet timeout;\n\n\treturn function () {\n\t\tconst args = arguments;\n\n\t\tconst later = () => {\n\t\t\ttimeout = null;\n\t\t\tif (!immediate) func.apply(context, args);\n\t\t};\n\n\t\tconst callNow = immediate && !timeout;\n\t\tclearTimeout(timeout);\n\t\ttimeout = setTimeout(later, wait);\n\t\tif (callNow) func.apply(context, args);\n\t};\n};\n\nexport const fadeOut = (el) => {\n\tel.style.opacity = 1;\n\n\t(function fade() {\n\t\tif ((el.style.opacity -= .1) < 0) {\n\t\t\tel.style.display = \"none\";\n\t\t} else {\n\t\t\trequestAnimationFrame(fade);\n\t\t}\n\t})();\n};\nexport const fadeIn = (el, display) => {\n\tel.style.opacity = 0;\n\tel.style.display = display || \"block\";\n\n\t(function fade() {\n\t\tlet val = parseFloat(el.style.opacity);\n\t\tif (!((val += .1) > 1)) {\n\t\t\tel.style.opacity = val;\n\t\t\trequestAnimationFrame(fade);\n\t\t}\n\t})();\n};\n\n\nexport const easings = {\n\tlinear(t) {\n\t\treturn t;\n\t},\n\teaseInQuad(t) {\n\t\treturn t * t;\n\t},\n\teaseOutQuad(t) {\n\t\treturn t * (2 - t);\n\t},\n\teaseInOutQuad(t) {\n\t\treturn t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t;\n\t},\n\teaseInCubic(t) {\n\t\treturn t * t * t;\n\t},\n\teaseOutCubic(t) {\n\t\treturn (--t) * t * t + 1;\n\t},\n\teaseInOutCubic(t) {\n\t\treturn t < 0.5 ? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1;\n\t},\n\teaseInQuart(t) {\n\t\treturn t * t * t * t;\n\t},\n\teaseOutQuart(t) {\n\t\treturn 1 - (--t) * t * t * t;\n\t},\n\teaseInOutQuart(t) {\n\t\treturn t < 0.5 ? 8 * t * t * t * t : 1 - 8 * (--t) * t * t * t;\n\t},\n\teaseInQuint(t) {\n\t\treturn t * t * t * t * t;\n\t},\n\teaseOutQuint(t) {\n\t\treturn 1 + (--t) * t * t * t * t;\n\t},\n\teaseInOutQuint(t) {\n\t\treturn t < 0.5 ? 16 * t * t * t * t * t : 1 + 16 * (--t) * t * t * t * t;\n\t}\n};\n\n\n// WEBPACK FOOTER //\n// ./src/js/modules/dev/_helpers.js","'use strict';\n\n/**\n * App entry point.\n *\n * @module App\n */\n\n/** Import common controller */\nimport Common from './components/Common';\n\n/** Import popup controller */\nimport Popup from './components/Popup';\n\n/** Import form controller */\nimport Form from './components/Form';\n\n/** Import page controllers */\nimport Home from './pages/Home';\n\n/** Import rrd controller */\n// import Rrd from './components/Rrd'\n\nimport {\n\tcurrentPage\n} from './modules/dev/_helpers';\n\n/**\n * Run appropriate scripts for each page.\n **/\nswitch (currentPage) {\n\t/** Home page */\n\tcase 'home':\n\t\tnew Home;\n\t\tbreak;\n\n\t\t/** No page found */\n\tdefault:\n\t\tconsole.warn('Undefined page');\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/index.js","/**\n * Website's common scripts (example).\n *\n * @module Common\n */\nimport {\n\teasings,\n\t// once,\n\tslideUp,\n\tslideDown,\n\tResp,\n\tfadeIn\n} from '../modules/dev/_helpers';\nrequire('../modules/polyfils/IntersectionObserver');\nrequire('../modules/polyfils/Find');\nrequire('../modules/polyfils/forEach');\nexport class Common {\n\t/**\n\t * Cache data, make preparations and initialize common scripts.\n\t */\n\tconstructor() {\n\t\tlet self = this;\n\t\tthis.state = {\n\t\t\tscrollTrigger: null,\n\t\t\tanchorLinks: document.querySelectorAll('.js-links'),\n\t\t\tactiveBlock: null,\n\t\t\tblockBreakpoints: [],\n\t\t\tsectionEls: []\n\n\t\t};\n\n\t\t// initialize after construction\n\t\tdocument.addEventListener(\"DOMContentLoaded\", (event) => {\n\t\t\tself.init();\n\t\t});\n\t}\n\n\t/**\n\t * Initialize common scripts.\n\t */\n\tinit() {\n\t\tthis.fixHeader();\n\t\tthis.toogleMenu();\n\t\tthis.scrollInvoke();\n\t\tthis.resizeCheck();\n\t\tthis.inputFocus();\n\t\tthis.openTabs();\n\t\tthis.getActiveSceen();\n\t\tthis.selectTarif();\n\t}\n\n\tresizeCheck() {\n\t\tlet self = this;\n\t\tlet resized;\n\t\twindow.addEventListener('resize', () => {\n\t\t\tclearTimeout(resized);\n\t\t\tresized = setTimeout(() => {\n\t\t\t\tdoneResizing();\n\t\t\t}, 300);\n\t\t})\n\n\t\tfunction doneResizing() {\n\t\t\tResp.isTablet === true ? self.state.scrollTrigger = 0 : self.state.scrollTrigger = 39;\n\t\t}\n\t}\n\n\tfixHeader() {\n\t\tlet self = this;\n\t\tconst header = document.querySelector('.js-header');\n\t\tResp.isTablet === true ? self.state.scrollTrigger = 0 : self.state.scrollTrigger = 39;\n\n\t\twindow.onscroll = () => {\n\t\t\tlet scrolled = window.pageYOffset || document.documentElement.scrollTop;\n\n\t\t\tif (scrolled > self.state.scrollTrigger) {\n\t\t\t\theader.classList.add(\"fixed\");\n\t\t\t} else {\n\t\t\t\theader.classList.remove(\"fixed\");\n\t\t\t}\n\t\t};\n\t}\n\n\ttoogleMenu() {\n\t\tconst burger = document.querySelector('.js-burger');\n\t\tconst mainMenu = document.querySelector(\".main-nav\");\n\t\tburger.addEventListener('click', () => {\n\t\t\tburger.classList.toggle(\"is-open\");\n\t\t\tmainMenu.classList.toggle(\"menu-open\");\n\t\t});\n\t}\n\n\tselectTarif () {\n\t\tconst prises = document.querySelectorAll('.choose');\n\t\tfor (let index = 0; index < prises.length; index++) {\n\t\t\tlet elem = prises[index];\n\t\t\telem.addEventListener('click', () => {\n\t\t\t\tlocalStorage.setItem('wantToSeeTariffs', true);\n\t\t\t\t// host\n\t\t\t\twindow.location.href = 'https://rrdoc.ru/profile'\n\t\t\t\t// window.location.href = 'http://rrdoc.itt/profile'\n\t\t\t\t// window.location.href = 'http://localhost:8088/profile'\n\t\t\t});\n\t\t}\n\t}\n\n\tscrollTo(destination, duration = 200, easing = 'linear', callback) {\n\n\t\tconst start = window.pageYOffset;\n\t\tconst startTime = 'now' in window.performance ? performance.now() : new Date().getTime();\n\n\t\tconst documentHeight = Math.max(document.body.scrollHeight, document.body.offsetHeight, document.documentElement.clientHeight, document.documentElement.scrollHeight, document.documentElement.offsetHeight);\n\t\tconst windowHeight = window.innerHeight || document.documentElement.clientHeight || document.getElementsByTagName('body')[0].clientHeight;\n\t\tconst destinationOffset = typeof destination === 'number' ? destination : destination.offsetTop - 100;\n\t\tconst destinationOffsetToScroll = Math.round(documentHeight - destinationOffset < windowHeight ? documentHeight - windowHeight : destinationOffset);\n\n\t\tif ('requestAnimationFrame' in window === false) {\n\t\t\twindow.scroll(0, destinationOffsetToScroll);\n\t\t\tif (callback) {\n\t\t\t\tcallback();\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\n\t\tfunction scroll() {\n\t\t\tconst now = 'now' in window.performance ? performance.now() : new Date().getTime();\n\t\t\tconst time = Math.min(1, ((now - startTime) / duration));\n\t\t\tconst timeFunction = easings[easing](time);\n\t\t\twindow.scroll(0, Math.ceil((timeFunction * (destinationOffsetToScroll - start)) + start));\n\n\t\t\tif (window.pageYOffset === destinationOffsetToScroll) {\n\t\t\t\tif (callback) {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\trequestAnimationFrame(scroll);\n\t\t}\n\n\t\tscroll();\n\t}\n\n\tscrollInvoke() {\n\t\tfor (let index = 0; index < this.state.anchorLinks.length; index++) {\n\t\t\tconst link = this.state.anchorLinks[index];\n\t\t\tlink.addEventListener('click', (e) => {\n\t\t\t\tlet scrollTargetEl = e.target.getAttribute('data-to');\n\t\t\t\tthis.scrollTo(\n\t\t\t\t\tdocument.getElementById(scrollTargetEl),\n\t\t\t\t\t1500,\n\t\t\t\t\t'easeOutQuint',\n\t\t\t\t\t() => {\n\t\t\t\t\t\tif (document.querySelector('.activeAnchor')) {\n\t\t\t\t\t\t\tdocument.querySelector('.activeAnchor').classList.remove('activeAnchor');\n\t\t\t\t\t\t}\n\t\t\t\t\t\te.target.parentNode.classList.add('activeAnchor');\n\t\t\t\t\t\tlet openMenu = document.querySelector('.menu-open');\n\t\t\t\t\t\tlet openBurger = document.querySelector('.js-burger')\n\t\t\t\t\t\tif (openMenu) {\n\t\t\t\t\t\t\topenBurger.click();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t});\n\t\t}\n\t}\n\n\tinputFocus() {\n\t\tconst formInputs = document.querySelectorAll('.js-input');\n\t\tfor (let index = 0; index < formInputs.length; index++) {\n\t\t\tconst input = formInputs[index];\n\t\t\tinput.addEventListener('focus', () => {\n\t\t\t\tinput.parentNode.classList.add('is-focused');\n\t\t\t});\n\t\t\tinput.addEventListener('blur', () => {\n\t\t\t\tif (input.value.length === 0) {\n\t\t\t\t\tinput.parentNode.classList.remove('is-focused');\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif (input.value !== '') {\n\t\t\t\tinput.parentNode.classList.add('is-focused');\n\t\t\t}\n\t\t}\n\t}\n\n\topenTabs() {\n\t\tconst btns = document.querySelectorAll('.js-open-tab');\n\n\t\tfor (let index = 0; index < btns.length; index++) {\n\t\t\tconst btn = btns[index];\n\t\t\tlet hiddenEl = btn.nextElementSibling;\n\t\t\tlet controlEl = btn;\n\t\t\tif (hiddenEl.length < 1 || controlEl.length < 1) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tbtn.addEventListener('click', (e) => {\n\t\t\t\tbtn.classList.toggle('is-open');\n\t\t\t\tlet elementClasses = (\" \" + hiddenEl.className + \" \").replace(/[\\n\\t\\r]/g, \" \"),\n\t\t\t\t\tremoveClass = \"slide-down\",\n\t\t\t\t\taddClass = \"slide-up\",\n\t\t\t\t\tisShowing = elementClasses.indexOf(\" \" + removeClass + \" \") > -1;\n\n\t\t\t\tif (!isShowing) {\n\t\t\t\t\tremoveClass = [addClass, addClass = removeClass][0];\n\t\t\t\t}\n\t\t\t\thiddenEl.className = (elementClasses.replace(\" \" + removeClass + \" \", \"\") + \" \" + addClass + \" \").trim();\n\n\t\t\t\treturn false;\n\t\t\t});\n\t\t}\n\t}\n\n\tgetActiveSceen() {\n\t\tlet self = this;\n\t\tconst sections = document.querySelectorAll('.js-section');\n\t\tconst leaveTrigger = document.querySelectorAll('.js-leave');\n\t\tthis.calculateAdjustedBlockPositions();\n\t\tthis.initObserver();\n\t}\n\n\tcalculateAdjustedBlockPositions() {\n\t\tthis.state.sectionEls = Array.prototype.slice.call(document.querySelectorAll('.js-section'));\n\t\tconst viewportHeight = window.innerHeight;\n\t\tconst docHeight = document.body.offsetHeight;\n\t\tconst scrollTop = document.documentElement.scrollTop;\n\t\tthis.state.blockBreakpoints = this.state.sectionEls.map(el => {\n\t\t\tconst top = el.getBoundingClientRect().top;\n\t\t\tconst oldOffset = top + scrollTop;\n\t\t\treturn oldOffset - oldOffset * (viewportHeight / docHeight);\n\t\t})\n\t}\n\n\tinitObserver() {\n\t\tconst options = {\n\t\t\tthreshold: [...Array(10)].map((el, index) => .1 * index),\n\t\t\tbottom: 500\n\t\t}\n\n\t\tconst handleIntersectionEvent = (entries) => {\n\t\t\tconst scrollTop = document.documentElement.scrollTop;\n\t\t\tthis.state.blockBreakpoints.find((bp, index) => {\n\t\t\t\t// console.log(bp, index)\n\t\t\t\tif (Math.abs(scrollTop - bp) < 100) {\n\t\t\t\t\tthis.state.activeBlock = index;\n\t\t\t\t\tthis.state.anchorLinks.forEach(link => {\n\t\t\t\t\t\tlink.parentNode.classList.remove('activeAnchor');\n\t\t\t\t\t})\n\t\t\t\t\tthis.state.anchorLinks[this.state.activeBlock].parentNode.classList.add('activeAnchor');\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\n\t\tconst observer = new IntersectionObserver(handleIntersectionEvent, options);\n\n\t\tthis.state.sectionEls.forEach(element => observer.observe(element));\n\t}\n}\n\n/** Export initialized common scripts by default */\nexport default new Common();\n\n\n// WEBPACK FOOTER //\n// ./src/js/components/Common.js","/**\n * Copyright 2016 Google Inc. All Rights Reserved.\n *\n * Licensed under the W3C SOFTWARE AND DOCUMENT NOTICE AND LICENSE.\n *\n *  https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document\n *\n */\n(function () {\n\t'use strict';\n\n\t// Exit early if we're not running in a browser.\n\tif (typeof window !== 'object') {\n\t\treturn;\n\t}\n\n\t// Exit early if all IntersectionObserver and IntersectionObserverEntry\n\t// features are natively supported.\n\tif ('IntersectionObserver' in window &&\n\t\t'IntersectionObserverEntry' in window &&\n\t\t'intersectionRatio' in window.IntersectionObserverEntry.prototype) {\n\n\t\t// Minimal polyfill for Edge 15's lack of `isIntersecting`\n\t\t// See: https://github.com/w3c/IntersectionObserver/issues/211\n\t\tif (!('isIntersecting' in window.IntersectionObserverEntry.prototype)) {\n\t\t\tObject.defineProperty(window.IntersectionObserverEntry.prototype,\n\t\t\t\t'isIntersecting', {\n\t\t\t\t\tget: function () {\n\t\t\t\t\t\treturn this.intersectionRatio > 0;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t}\n\t\treturn;\n\t}\n\n\n\t/**\n\t * A local reference to the document.\n\t */\n\tvar document = window.document;\n\n\n\t/**\n\t * An IntersectionObserver registry. This registry exists to hold a strong\n\t * reference to IntersectionObserver instances currently observing a target\n\t * element. Without this registry, instances without another reference may be\n\t * garbage collected.\n\t */\n\tvar registry = [];\n\n\n\t/**\n\t * Creates the global IntersectionObserverEntry constructor.\n\t * https://w3c.github.io/IntersectionObserver/#intersection-observer-entry\n\t * @param {Object} entry A dictionary of instance properties.\n\t * @constructor\n\t */\n\tfunction IntersectionObserverEntry(entry) {\n\t\tthis.time = entry.time;\n\t\tthis.target = entry.target;\n\t\tthis.rootBounds = entry.rootBounds;\n\t\tthis.boundingClientRect = entry.boundingClientRect;\n\t\tthis.intersectionRect = entry.intersectionRect || getEmptyRect();\n\t\tthis.isIntersecting = !!entry.intersectionRect;\n\n\t\t// Calculates the intersection ratio.\n\t\tvar targetRect = this.boundingClientRect;\n\t\tvar targetArea = targetRect.width * targetRect.height;\n\t\tvar intersectionRect = this.intersectionRect;\n\t\tvar intersectionArea = intersectionRect.width * intersectionRect.height;\n\n\t\t// Sets intersection ratio.\n\t\tif (targetArea) {\n\t\t\t// Round the intersection ratio to avoid floating point math issues:\n\t\t\t// https://github.com/w3c/IntersectionObserver/issues/324\n\t\t\tthis.intersectionRatio = Number((intersectionArea / targetArea).toFixed(4));\n\t\t} else {\n\t\t\t// If area is zero and is intersecting, sets to 1, otherwise to 0\n\t\t\tthis.intersectionRatio = this.isIntersecting ? 1 : 0;\n\t\t}\n\t}\n\n\n\t/**\n\t * Creates the global IntersectionObserver constructor.\n\t * https://w3c.github.io/IntersectionObserver/#intersection-observer-interface\n\t * @param {Function} callback The function to be invoked after intersection\n\t *     changes have queued. The function is not invoked if the queue has\n\t *     been emptied by calling the `takeRecords` method.\n\t * @param {Object=} opt_options Optional configuration options.\n\t * @constructor\n\t */\n\tfunction IntersectionObserver(callback, opt_options) {\n\n\t\tvar options = opt_options || {};\n\n\t\tif (typeof callback != 'function') {\n\t\t\tthrow new Error('callback must be a function');\n\t\t}\n\n\t\tif (options.root && options.root.nodeType != 1) {\n\t\t\tthrow new Error('root must be an Element');\n\t\t}\n\n\t\t// Binds and throttles `this._checkForIntersections`.\n\t\tthis._checkForIntersections = throttle(\n\t\t\tthis._checkForIntersections.bind(this), this.THROTTLE_TIMEOUT);\n\n\t\t// Private properties.\n\t\tthis._callback = callback;\n\t\tthis._observationTargets = [];\n\t\tthis._queuedEntries = [];\n\t\tthis._rootMarginValues = this._parseRootMargin(options.rootMargin);\n\n\t\t// Public properties.\n\t\tthis.thresholds = this._initThresholds(options.threshold);\n\t\tthis.root = options.root || null;\n\t\tthis.rootMargin = this._rootMarginValues.map(function (margin) {\n\t\t\treturn margin.value + margin.unit;\n\t\t}).join(' ');\n\t}\n\n\n\t/**\n\t * The minimum interval within which the document will be checked for\n\t * intersection changes.\n\t */\n\tIntersectionObserver.prototype.THROTTLE_TIMEOUT = 100;\n\n\n\t/**\n\t * The frequency in which the polyfill polls for intersection changes.\n\t * this can be updated on a per instance basis and must be set prior to\n\t * calling `observe` on the first target.\n\t */\n\tIntersectionObserver.prototype.POLL_INTERVAL = null;\n\n\t/**\n\t * Use a mutation observer on the root element\n\t * to detect intersection changes.\n\t */\n\tIntersectionObserver.prototype.USE_MUTATION_OBSERVER = true;\n\n\n\t/**\n\t * Starts observing a target element for intersection changes based on\n\t * the thresholds values.\n\t * @param {Element} target The DOM element to observe.\n\t */\n\tIntersectionObserver.prototype.observe = function (target) {\n\t\tvar isTargetAlreadyObserved = this._observationTargets.some(function (item) {\n\t\t\treturn item.element == target;\n\t\t});\n\n\t\tif (isTargetAlreadyObserved) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (!(target && target.nodeType == 1)) {\n\t\t\tthrow new Error('target must be an Element');\n\t\t}\n\n\t\tthis._registerInstance();\n\t\tthis._observationTargets.push({\n\t\t\telement: target,\n\t\t\tentry: null\n\t\t});\n\t\tthis._monitorIntersections();\n\t\tthis._checkForIntersections();\n\t};\n\n\n\t/**\n\t * Stops observing a target element for intersection changes.\n\t * @param {Element} target The DOM element to observe.\n\t */\n\tIntersectionObserver.prototype.unobserve = function (target) {\n\t\tthis._observationTargets =\n\t\t\tthis._observationTargets.filter(function (item) {\n\n\t\t\t\treturn item.element != target;\n\t\t\t});\n\t\tif (!this._observationTargets.length) {\n\t\t\tthis._unmonitorIntersections();\n\t\t\tthis._unregisterInstance();\n\t\t}\n\t};\n\n\n\t/**\n\t * Stops observing all target elements for intersection changes.\n\t */\n\tIntersectionObserver.prototype.disconnect = function () {\n\t\tthis._observationTargets = [];\n\t\tthis._unmonitorIntersections();\n\t\tthis._unregisterInstance();\n\t};\n\n\n\t/**\n\t * Returns any queue entries that have not yet been reported to the\n\t * callback and clears the queue. This can be used in conjunction with the\n\t * callback to obtain the absolute most up-to-date intersection information.\n\t * @return {Array} The currently queued entries.\n\t */\n\tIntersectionObserver.prototype.takeRecords = function () {\n\t\tvar records = this._queuedEntries.slice();\n\t\tthis._queuedEntries = [];\n\t\treturn records;\n\t};\n\n\n\t/**\n\t * Accepts the threshold value from the user configuration object and\n\t * returns a sorted array of unique threshold values. If a value is not\n\t * between 0 and 1 and error is thrown.\n\t * @private\n\t * @param {Array|number=} opt_threshold An optional threshold value or\n\t *     a list of threshold values, defaulting to [0].\n\t * @return {Array} A sorted list of unique and valid threshold values.\n\t */\n\tIntersectionObserver.prototype._initThresholds = function (opt_threshold) {\n\t\tvar threshold = opt_threshold || [0];\n\t\tif (!Array.isArray(threshold)) threshold = [threshold];\n\n\t\treturn threshold.sort().filter(function (t, i, a) {\n\t\t\tif (typeof t != 'number' || isNaN(t) || t < 0 || t > 1) {\n\t\t\t\tthrow new Error('threshold must be a number between 0 and 1 inclusively');\n\t\t\t}\n\t\t\treturn t !== a[i - 1];\n\t\t});\n\t};\n\n\n\t/**\n\t * Accepts the rootMargin value from the user configuration object\n\t * and returns an array of the four margin values as an object containing\n\t * the value and unit properties. If any of the values are not properly\n\t * formatted or use a unit other than px or %, and error is thrown.\n\t * @private\n\t * @param {string=} opt_rootMargin An optional rootMargin value,\n\t *     defaulting to '0px'.\n\t * @return {Array<Object>} An array of margin objects with the keys\n\t *     value and unit.\n\t */\n\tIntersectionObserver.prototype._parseRootMargin = function (opt_rootMargin) {\n\t\tvar marginString = opt_rootMargin || '0px';\n\t\tvar margins = marginString.split(/\\s+/).map(function (margin) {\n\t\t\tvar parts = /^(-?\\d*\\.?\\d+)(px|%)$/.exec(margin);\n\t\t\tif (!parts) {\n\t\t\t\tthrow new Error('rootMargin must be specified in pixels or percent');\n\t\t\t}\n\t\t\treturn {\n\t\t\t\tvalue: parseFloat(parts[1]),\n\t\t\t\tunit: parts[2]\n\t\t\t};\n\t\t});\n\n\t\t// Handles shorthand.\n\t\tmargins[1] = margins[1] || margins[0];\n\t\tmargins[2] = margins[2] || margins[0];\n\t\tmargins[3] = margins[3] || margins[1];\n\n\t\treturn margins;\n\t};\n\n\n\t/**\n\t * Starts polling for intersection changes if the polling is not already\n\t * happening, and if the page's visibility state is visible.\n\t * @private\n\t */\n\tIntersectionObserver.prototype._monitorIntersections = function () {\n\t\tif (!this._monitoringIntersections) {\n\t\t\tthis._monitoringIntersections = true;\n\n\t\t\t// If a poll interval is set, use polling instead of listening to\n\t\t\t// resize and scroll events or DOM mutations.\n\t\t\tif (this.POLL_INTERVAL) {\n\t\t\t\tthis._monitoringInterval = setInterval(\n\t\t\t\t\tthis._checkForIntersections, this.POLL_INTERVAL);\n\t\t\t} else {\n\t\t\t\taddEvent(window, 'resize', this._checkForIntersections, true);\n\t\t\t\taddEvent(document, 'scroll', this._checkForIntersections, true);\n\n\t\t\t\tif (this.USE_MUTATION_OBSERVER && 'MutationObserver' in window) {\n\t\t\t\t\tthis._domObserver = new MutationObserver(this._checkForIntersections);\n\t\t\t\t\tthis._domObserver.observe(document, {\n\t\t\t\t\t\tattributes: true,\n\t\t\t\t\t\tchildList: true,\n\t\t\t\t\t\tcharacterData: true,\n\t\t\t\t\t\tsubtree: true\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\n\t/**\n\t * Stops polling for intersection changes.\n\t * @private\n\t */\n\tIntersectionObserver.prototype._unmonitorIntersections = function () {\n\t\tif (this._monitoringIntersections) {\n\t\t\tthis._monitoringIntersections = false;\n\n\t\t\tclearInterval(this._monitoringInterval);\n\t\t\tthis._monitoringInterval = null;\n\n\t\t\tremoveEvent(window, 'resize', this._checkForIntersections, true);\n\t\t\tremoveEvent(document, 'scroll', this._checkForIntersections, true);\n\n\t\t\tif (this._domObserver) {\n\t\t\t\tthis._domObserver.disconnect();\n\t\t\t\tthis._domObserver = null;\n\t\t\t}\n\t\t}\n\t};\n\n\n\t/**\n\t * Scans each observation target for intersection changes and adds them\n\t * to the internal entries queue. If new entries are found, it\n\t * schedules the callback to be invoked.\n\t * @private\n\t */\n\tIntersectionObserver.prototype._checkForIntersections = function () {\n\t\tvar rootIsInDom = this._rootIsInDom();\n\t\tvar rootRect = rootIsInDom ? this._getRootRect() : getEmptyRect();\n\n\t\tthis._observationTargets.forEach(function (item) {\n\t\t\tvar target = item.element;\n\t\t\tvar targetRect = getBoundingClientRect(target);\n\t\t\tvar rootContainsTarget = this._rootContainsTarget(target);\n\t\t\tvar oldEntry = item.entry;\n\t\t\tvar intersectionRect = rootIsInDom && rootContainsTarget &&\n\t\t\t\tthis._computeTargetAndRootIntersection(target, rootRect);\n\n\t\t\tvar newEntry = item.entry = new IntersectionObserverEntry({\n\t\t\t\ttime: now(),\n\t\t\t\ttarget: target,\n\t\t\t\tboundingClientRect: targetRect,\n\t\t\t\trootBounds: rootRect,\n\t\t\t\tintersectionRect: intersectionRect\n\t\t\t});\n\n\t\t\tif (!oldEntry) {\n\t\t\t\tthis._queuedEntries.push(newEntry);\n\t\t\t} else if (rootIsInDom && rootContainsTarget) {\n\t\t\t\t// If the new entry intersection ratio has crossed any of the\n\t\t\t\t// thresholds, add a new entry.\n\t\t\t\tif (this._hasCrossedThreshold(oldEntry, newEntry)) {\n\t\t\t\t\tthis._queuedEntries.push(newEntry);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// If the root is not in the DOM or target is not contained within\n\t\t\t\t// root but the previous entry for this target had an intersection,\n\t\t\t\t// add a new record indicating removal.\n\t\t\t\tif (oldEntry && oldEntry.isIntersecting) {\n\t\t\t\t\tthis._queuedEntries.push(newEntry);\n\t\t\t\t}\n\t\t\t}\n\t\t}, this);\n\n\t\tif (this._queuedEntries.length) {\n\t\t\tthis._callback(this.takeRecords(), this);\n\t\t}\n\t};\n\n\n\t/**\n\t * Accepts a target and root rect computes the intersection between then\n\t * following the algorithm in the spec.\n\t * TODO(philipwalton): at this time clip-path is not considered.\n\t * https://w3c.github.io/IntersectionObserver/#calculate-intersection-rect-algo\n\t * @param {Element} target The target DOM element\n\t * @param {Object} rootRect The bounding rect of the root after being\n\t *     expanded by the rootMargin value.\n\t * @return {?Object} The final intersection rect object or undefined if no\n\t *     intersection is found.\n\t * @private\n\t */\n\tIntersectionObserver.prototype._computeTargetAndRootIntersection =\n\t\tfunction (target, rootRect) {\n\n\t\t\t// If the element isn't displayed, an intersection can't happen.\n\t\t\tif (window.getComputedStyle(target).display == 'none') return;\n\n\t\t\tvar targetRect = getBoundingClientRect(target);\n\t\t\tvar intersectionRect = targetRect;\n\t\t\tvar parent = getParentNode(target);\n\t\t\tvar atRoot = false;\n\n\t\t\twhile (!atRoot) {\n\t\t\t\tvar parentRect = null;\n\t\t\t\tvar parentComputedStyle = parent.nodeType == 1 ?\n\t\t\t\t\twindow.getComputedStyle(parent) : {};\n\n\t\t\t\t// If the parent isn't displayed, an intersection can't happen.\n\t\t\t\tif (parentComputedStyle.display == 'none') return;\n\n\t\t\t\tif (parent == this.root || parent == document) {\n\t\t\t\t\tatRoot = true;\n\t\t\t\t\tparentRect = rootRect;\n\t\t\t\t} else {\n\t\t\t\t\t// If the element has a non-visible overflow, and it's not the <body>\n\t\t\t\t\t// or <html> element, update the intersection rect.\n\t\t\t\t\t// Note: <body> and <html> cannot be clipped to a rect that's not also\n\t\t\t\t\t// the document rect, so no need to compute a new intersection.\n\t\t\t\t\tif (parent != document.body &&\n\t\t\t\t\t\tparent != document.documentElement &&\n\t\t\t\t\t\tparentComputedStyle.overflow != 'visible') {\n\t\t\t\t\t\tparentRect = getBoundingClientRect(parent);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// If either of the above conditionals set a new parentRect,\n\t\t\t\t// calculate new intersection data.\n\t\t\t\tif (parentRect) {\n\t\t\t\t\tintersectionRect = computeRectIntersection(parentRect, intersectionRect);\n\n\t\t\t\t\tif (!intersectionRect) break;\n\t\t\t\t}\n\t\t\t\tparent = getParentNode(parent);\n\t\t\t}\n\t\t\treturn intersectionRect;\n\t\t};\n\n\n\t/**\n\t * Returns the root rect after being expanded by the rootMargin value.\n\t * @return {Object} The expanded root rect.\n\t * @private\n\t */\n\tIntersectionObserver.prototype._getRootRect = function () {\n\t\tvar rootRect;\n\t\tif (this.root) {\n\t\t\trootRect = getBoundingClientRect(this.root);\n\t\t} else {\n\t\t\t// Use <html>/<body> instead of window since scroll bars affect size.\n\t\t\tvar html = document.documentElement;\n\t\t\tvar body = document.body;\n\t\t\trootRect = {\n\t\t\t\ttop: 0,\n\t\t\t\tleft: 0,\n\t\t\t\tright: html.clientWidth || body.clientWidth,\n\t\t\t\twidth: html.clientWidth || body.clientWidth,\n\t\t\t\tbottom: html.clientHeight || body.clientHeight,\n\t\t\t\theight: html.clientHeight || body.clientHeight\n\t\t\t};\n\t\t}\n\t\treturn this._expandRectByRootMargin(rootRect);\n\t};\n\n\n\t/**\n\t * Accepts a rect and expands it by the rootMargin value.\n\t * @param {Object} rect The rect object to expand.\n\t * @return {Object} The expanded rect.\n\t * @private\n\t */\n\tIntersectionObserver.prototype._expandRectByRootMargin = function (rect) {\n\t\tvar margins = this._rootMarginValues.map(function (margin, i) {\n\t\t\treturn margin.unit == 'px' ? margin.value :\n\t\t\t\tmargin.value * (i % 2 ? rect.width : rect.height) / 100;\n\t\t});\n\t\tvar newRect = {\n\t\t\ttop: rect.top - margins[0],\n\t\t\tright: rect.right + margins[1],\n\t\t\tbottom: rect.bottom + margins[2],\n\t\t\tleft: rect.left - margins[3]\n\t\t};\n\t\tnewRect.width = newRect.right - newRect.left;\n\t\tnewRect.height = newRect.bottom - newRect.top;\n\n\t\treturn newRect;\n\t};\n\n\n\t/**\n\t * Accepts an old and new entry and returns true if at least one of the\n\t * threshold values has been crossed.\n\t * @param {?IntersectionObserverEntry} oldEntry The previous entry for a\n\t *    particular target element or null if no previous entry exists.\n\t * @param {IntersectionObserverEntry} newEntry The current entry for a\n\t *    particular target element.\n\t * @return {boolean} Returns true if a any threshold has been crossed.\n\t * @private\n\t */\n\tIntersectionObserver.prototype._hasCrossedThreshold =\n\t\tfunction (oldEntry, newEntry) {\n\n\t\t\t// To make comparing easier, an entry that has a ratio of 0\n\t\t\t// but does not actually intersect is given a value of -1\n\t\t\tvar oldRatio = oldEntry && oldEntry.isIntersecting ?\n\t\t\t\toldEntry.intersectionRatio || 0 : -1;\n\t\t\tvar newRatio = newEntry.isIntersecting ?\n\t\t\t\tnewEntry.intersectionRatio || 0 : -1;\n\n\t\t\t// Ignore unchanged ratios\n\t\t\tif (oldRatio === newRatio) return;\n\n\t\t\tfor (var i = 0; i < this.thresholds.length; i++) {\n\t\t\t\tvar threshold = this.thresholds[i];\n\n\t\t\t\t// Return true if an entry matches a threshold or if the new ratio\n\t\t\t\t// and the old ratio are on the opposite sides of a threshold.\n\t\t\t\tif (threshold == oldRatio || threshold == newRatio ||\n\t\t\t\t\tthreshold < oldRatio !== threshold < newRatio) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\n\t/**\n\t * Returns whether or not the root element is an element and is in the DOM.\n\t * @return {boolean} True if the root element is an element and is in the DOM.\n\t * @private\n\t */\n\tIntersectionObserver.prototype._rootIsInDom = function () {\n\t\treturn !this.root || containsDeep(document, this.root);\n\t};\n\n\n\t/**\n\t * Returns whether or not the target element is a child of root.\n\t * @param {Element} target The target element to check.\n\t * @return {boolean} True if the target element is a child of root.\n\t * @private\n\t */\n\tIntersectionObserver.prototype._rootContainsTarget = function (target) {\n\t\treturn containsDeep(this.root || document, target);\n\t};\n\n\n\t/**\n\t * Adds the instance to the global IntersectionObserver registry if it isn't\n\t * already present.\n\t * @private\n\t */\n\tIntersectionObserver.prototype._registerInstance = function () {\n\t\tif (registry.indexOf(this) < 0) {\n\t\t\tregistry.push(this);\n\t\t}\n\t};\n\n\n\t/**\n\t * Removes the instance from the global IntersectionObserver registry.\n\t * @private\n\t */\n\tIntersectionObserver.prototype._unregisterInstance = function () {\n\t\tvar index = registry.indexOf(this);\n\t\tif (index != -1) registry.splice(index, 1);\n\t};\n\n\n\t/**\n\t * Returns the result of the performance.now() method or null in browsers\n\t * that don't support the API.\n\t * @return {number} The elapsed time since the page was requested.\n\t */\n\tfunction now() {\n\t\treturn window.performance && performance.now && performance.now();\n\t}\n\n\n\t/**\n\t * Throttles a function and delays its execution, so it's only called at most\n\t * once within a given time period.\n\t * @param {Function} fn The function to throttle.\n\t * @param {number} timeout The amount of time that must pass before the\n\t *     function can be called again.\n\t * @return {Function} The throttled function.\n\t */\n\tfunction throttle(fn, timeout) {\n\t\tvar timer = null;\n\t\treturn function () {\n\t\t\tif (!timer) {\n\t\t\t\ttimer = setTimeout(function () {\n\t\t\t\t\tfn();\n\t\t\t\t\ttimer = null;\n\t\t\t\t}, timeout);\n\t\t\t}\n\t\t};\n\t}\n\n\n\t/**\n\t * Adds an event handler to a DOM node ensuring cross-browser compatibility.\n\t * @param {Node} node The DOM node to add the event handler to.\n\t * @param {string} event The event name.\n\t * @param {Function} fn The event handler to add.\n\t * @param {boolean} opt_useCapture Optionally adds the even to the capture\n\t *     phase. Note: this only works in modern browsers.\n\t */\n\tfunction addEvent(node, event, fn, opt_useCapture) {\n\t\tif (typeof node.addEventListener == 'function') {\n\t\t\tnode.addEventListener(event, fn, opt_useCapture || false);\n\t\t} else if (typeof node.attachEvent == 'function') {\n\t\t\tnode.attachEvent('on' + event, fn);\n\t\t}\n\t}\n\n\n\t/**\n\t * Removes a previously added event handler from a DOM node.\n\t * @param {Node} node The DOM node to remove the event handler from.\n\t * @param {string} event The event name.\n\t * @param {Function} fn The event handler to remove.\n\t * @param {boolean} opt_useCapture If the event handler was added with this\n\t *     flag set to true, it should be set to true here in order to remove it.\n\t */\n\tfunction removeEvent(node, event, fn, opt_useCapture) {\n\t\tif (typeof node.removeEventListener == 'function') {\n\t\t\tnode.removeEventListener(event, fn, opt_useCapture || false);\n\t\t} else if (typeof node.detatchEvent == 'function') {\n\t\t\tnode.detatchEvent('on' + event, fn);\n\t\t}\n\t}\n\n\n\t/**\n\t * Returns the intersection between two rect objects.\n\t * @param {Object} rect1 The first rect.\n\t * @param {Object} rect2 The second rect.\n\t * @return {?Object} The intersection rect or undefined if no intersection\n\t *     is found.\n\t */\n\tfunction computeRectIntersection(rect1, rect2) {\n\t\tvar top = Math.max(rect1.top, rect2.top);\n\t\tvar bottom = Math.min(rect1.bottom, rect2.bottom);\n\t\tvar left = Math.max(rect1.left, rect2.left);\n\t\tvar right = Math.min(rect1.right, rect2.right);\n\t\tvar width = right - left;\n\t\tvar height = bottom - top;\n\n\t\treturn (width >= 0 && height >= 0) && {\n\t\t\ttop: top,\n\t\t\tbottom: bottom,\n\t\t\tleft: left,\n\t\t\tright: right,\n\t\t\twidth: width,\n\t\t\theight: height\n\t\t};\n\t}\n\n\n\t/**\n\t * Shims the native getBoundingClientRect for compatibility with older IE.\n\t * @param {Element} el The element whose bounding rect to get.\n\t * @return {Object} The (possibly shimmed) rect of the element.\n\t */\n\tfunction getBoundingClientRect(el) {\n\t\tvar rect;\n\n\t\ttry {\n\t\t\trect = el.getBoundingClientRect();\n\t\t} catch (err) {\n\t\t\t// Ignore Windows 7 IE11 \"Unspecified error\"\n\t\t\t// https://github.com/w3c/IntersectionObserver/pull/205\n\t\t}\n\n\t\tif (!rect) return getEmptyRect();\n\n\t\t// Older IE\n\t\tif (!(rect.width && rect.height)) {\n\t\t\trect = {\n\t\t\t\ttop: rect.top,\n\t\t\t\tright: rect.right,\n\t\t\t\tbottom: rect.bottom,\n\t\t\t\tleft: rect.left,\n\t\t\t\twidth: rect.right - rect.left,\n\t\t\t\theight: rect.bottom - rect.top\n\t\t\t};\n\t\t}\n\t\treturn rect;\n\t}\n\n\n\t/**\n\t * Returns an empty rect object. An empty rect is returned when an element\n\t * is not in the DOM.\n\t * @return {Object} The empty rect.\n\t */\n\tfunction getEmptyRect() {\n\t\treturn {\n\t\t\ttop: 0,\n\t\t\tbottom: 0,\n\t\t\tleft: 0,\n\t\t\tright: 0,\n\t\t\twidth: 0,\n\t\t\theight: 0\n\t\t};\n\t}\n\n\t/**\n\t * Checks to see if a parent element contains a child element (including inside\n\t * shadow DOM).\n\t * @param {Node} parent The parent element.\n\t * @param {Node} child The child element.\n\t * @return {boolean} True if the parent node contains the child node.\n\t */\n\tfunction containsDeep(parent, child) {\n\t\tvar node = child;\n\t\twhile (node) {\n\t\t\tif (node == parent) return true;\n\n\t\t\tnode = getParentNode(node);\n\t\t}\n\t\treturn false;\n\t}\n\n\n\t/**\n\t * Gets the parent node of an element or its host element if the parent node\n\t * is a shadow root.\n\t * @param {Node} node The node whose parent to get.\n\t * @return {Node|null} The parent node or null if no parent exists.\n\t */\n\tfunction getParentNode(node) {\n\t\tvar parent = node.parentNode;\n\n\t\tif (parent && parent.nodeType == 11 && parent.host) {\n\t\t\t// If the parent is a shadow root, return the host element.\n\t\t\treturn parent.host;\n\t\t}\n\n\t\tif (parent && parent.assignedSlot) {\n\t\t\t// If the parent is distributed in a <slot>, return the parent of a slot.\n\t\t\treturn parent.assignedSlot.parentNode;\n\t\t}\n\n\t\treturn parent;\n\t}\n\n\n\t// Exposes the constructors globally.\n\twindow.IntersectionObserver = IntersectionObserver;\n\twindow.IntersectionObserverEntry = IntersectionObserverEntry;\n\n}());\n\n\n// WEBPACK FOOTER //\n// ./src/js/modules/polyfils/IntersectionObserver.js","if (!Array.prototype.find) {\n\tObject.defineProperty(Array.prototype, 'find', {\n\t\tvalue: function (predicate) {\n\t\t\t// 1. Let O be ? ToObject(this value).\n\t\t\tif (this == null) {\n\t\t\t\tthrow new TypeError('\"this\" is null or not defined');\n\t\t\t}\n\n\t\t\tvar o = Object(this);\n\n\t\t\t// 2. Let len be ? ToLength(? Get(O, \"length\")).\n\t\t\tvar len = o.length >>> 0;\n\n\t\t\t// 3. If IsCallable(predicate) is false, throw a TypeError exception.\n\t\t\tif (typeof predicate !== 'function') {\n\t\t\t\tthrow new TypeError('predicate must be a function');\n\t\t\t}\n\n\t\t\t// 4. If thisArg was supplied, let T be thisArg; else let T be undefined.\n\t\t\tvar thisArg = arguments[1];\n\n\t\t\t// 5. Let k be 0.\n\t\t\tvar k = 0;\n\n\t\t\t// 6. Repeat, while k < len\n\t\t\twhile (k < len) {\n\t\t\t\t// a. Let Pk be ! ToString(k).\n\t\t\t\t// b. Let kValue be ? Get(O, Pk).\n\t\t\t\t// c. Let testResult be ToBoolean(? Call(predicate, T, « kValue, k, O »)).\n\t\t\t\t// d. If testResult is true, return kValue.\n\t\t\t\tvar kValue = o[k];\n\t\t\t\tif (predicate.call(thisArg, kValue, k, o)) {\n\t\t\t\t\treturn kValue;\n\t\t\t\t}\n\t\t\t\t// e. Increase k by 1.\n\t\t\t\tk++;\n\t\t\t}\n\n\t\t\t// 7. Return undefined.\n\t\t\treturn undefined;\n\t\t},\n\t\tconfigurable: true,\n\t\twritable: true\n\t});\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/modules/polyfils/Find.js","if ('NodeList' in window && !NodeList.prototype.forEach) {\n\tNodeList.prototype.forEach = function (callback, thisArg) {\n\t\tthisArg = thisArg || window;\n\t\tfor (var i = 0; i < this.length; i++) {\n\t\t\tcallback.call(thisArg, this[i], i, this);\n\t\t}\n\t};\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/modules/polyfils/forEach.js","/**\n * Website's popup scripts.\n *\n * @module Popup\n */\nimport {\n\tfadeIn,\n\tfadeOut\n} from '../modules/dev/_helpers';\nexport class Popup {\n\t/**\n\t * Cache data, make preparations and initialize popup scripts.\n\t */\n\tconstructor() {\n\t\tconst self = this;\n\t\tthis.state = {\n\t\t\tpopup: null,\n\t\t\tanimationInner: false,\n\t\t\tanimationName: '',\n\t\t\tanimatedElement: null,\n\t\t\tbody: document.querySelector('body'),\n\t\t\theader: document.querySelector('header'),\n\t\t\tmainTag: document.querySelector('main')\n\t\t};\n\n\t\tdocument.addEventListener(\"DOMContentLoaded\", (event) => {\n\t\t\tself.openModalWindow();\n\t\t\tself.closeModalWindow();\n\t\t});\n\t}\n\n\topenModalWindow() {\n\t\tlet self = this;\n\t\tlet openBtn = document.querySelectorAll('.js-open-p');\n\n\t\tfor (let index = 0; index < openBtn.length; index++) {\n\t\t\tconst element = openBtn[index];\n\t\t\telement.addEventListener('click', () => {\n\t\t\t\tself.state.popup = document.querySelector(`.${element.getAttribute('data-open')}`);\n\t\t\t\tself.state.animationInner = self.state.popup.getAttribute('data-animate');\n\n\t\t\t\tif (self.state.animationInner === 'true') {\n\n\t\t\t\t\tself.state.animatedElement = self.state.popup.querySelector('[data-animation-name]');\n\t\t\t\t\tself.state.animationName = self.state.animatedElement.getAttribute('data-animation-name');\n\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tself.state.animatedElement.classList.add(self.state.animationName);\n\t\t\t\t\t}, 350);\n\n\t\t\t\t} else {\n\t\t\t\t\tself.state.animationInner = false;\n\t\t\t\t}\n\n\t\t\t\tif (self.state.popup) {\n\t\t\t\t\tfadeIn(self.state.popup);\n\t\t\t\t\tself.fixScrollBody();\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t}\n\n\tcloseModalWindow() {\n\t\tlet self = this;\n\t\tlet waitTime;\n\t\tlet closeBtn = document.querySelectorAll('.js-close-popup');\n\t\tself.state.popup === '.success-popup' ? waitTime = 650 : waitTime = 350;\n\n\t\tfor (let index = 0; index < closeBtn.length; index++) {\n\t\t\tconst element = closeBtn[index];\n\t\t\telement.addEventListener('click', () => {\n\t\t\t\tself.state.animatedElement.classList.remove(self.state.animationName);\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tfadeOut(self.state.popup);\n\t\t\t\t\tself.returnScrollBody();\n\t\t\t\t}, waitTime);\n\t\t\t})\n\t\t}\n\t}\n\n\tfixScrollBody() {\n\t\tlet marginRight = window.innerWidth - this.state.body.offsetWidth;\n\t\tlet paddingRight = (window.innerWidth - this.state.body.offsetWidth);\n\t\tthis.state.mainTag.style.paddingRight = `${paddingRight}px`;\n\t\tthis.state.header.style.paddingRight = `${paddingRight}px`;\n\t\tthis.state.body.style.overflow = 'hidden';\n\t}\n\n\treturnScrollBody() {\n\t\tthis.state.body.style.overflow = '';\n\t\tthis.state.mainTag.style.paddingRight = '';\n\t\tthis.state.header.style.paddingRight = '';\n\t}\n}\n\n/** Export initialized popup scripts by default */\nexport default new Popup();\n\n\n// WEBPACK FOOTER //\n// ./src/js/components/Popup.js","/**\n * Website's form validation and submit scripts.\n *\n * @module Form\n */\n\nimport {\n\tValidator\n} from './Validators';\nimport Rrd from './Rrd';\nexport class Form {\n\n\tconstructor() {\n\t\tlet self = this;\n\t\tthis.state = {\n\t\t\tformValid: false,\n\t\t\tcurrentForm: null,\n\t\t\t// apiHost: 'http://api.rrdoc.itt',\t// host dev\n\t\t\t// origin: 'http://rrdoc.itt',\n\t\t\tapiHost: 'https://api.rrdoc.ru',\t// host prod\n\t\t\torigin: 'https://rrdoc.ru'\n\t\t};\n\n\t\twindow.localStorage.setItem('didYouSeeOurLanding', true);\n\t\tdocument.cookie = ('authHeader=\"zxc\"; path=/; max-age=-1')\n\n\t\tdocument.addEventListener(\"DOMContentLoaded\", (event) => {\n\t\t\tself.submitForm();\n\t\t});\n\t}\n\n\tvalidateFields(fields) {\n\t\tfor (let index = 0; index < fields.length; index++) {\n\t\t\tconst field = fields[index];\n\t\t\tlet type = field.getAttribute('name');\n\t\t\tswitch (type) {\n\t\t\t\tcase 'name':\n\t\t\t\t\tValidator.validateName(field);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'email':\n\t\t\t\t\tValidator.validateEmail(field);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'passwordLogin':\n\t\t\t\t\tValidator.setValid(field)\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'password':\n\t\t\t\t\tValidator.validatePassword(field);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'privacy':\n\t\t\t\t\tValidator.validatePrivacy(field);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'password-repeat':\n\t\t\t\t\tValidator.validateConfirmPassword(fields[1], fields[2]);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'phone':\n\t\t\t\t\tValidator.validatePhone(field, 7, 20);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'messege':\n\t\t\t\t\tValidator.validateMessege(field);\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tlet fieldsArr = Array.prototype.slice.call(fields);\n\n\t\tfunction isValid(element, index, array) {\n\t\t\treturn element.classList.contains('valid');\n\t\t}\n\t\tfieldsArr.every(isValid) === true ? this.formValid = true : this.formValid = false;\n\t\tif (this.formValid === true) {\n\t\t\tfor (let index = 0; index < fieldsArr.length; index++) {\n\t\t\t\tconst element = fieldsArr[index];\n\t\t\t\tlet messege = element.parentNode.querySelector('.validate-message');\n\t\t\t\tmessege.innerHTML = '';\n\t\t\t}\n\t\t}\n\t}\n\n\n\tsubmitForm () {\n\t\tlet $forms = document.querySelectorAll('.js-forms');\n\t\tfor (let index = 0; index < $forms.length; index++) {\n\t\t\tconst form = $forms[index];\n\t\t\tform.addEventListener('submit', (event) => {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tlet btn = event.target.querySelector('button[type=\"submit\"]');\n\t\t\t\tlet fields = event.target.querySelectorAll('.js-validate');\n\t\t\t\tthis.validateFields(fields);\n\t\t\t\tif (this.formValid === true) {\n\t\t\t\t\tbtn.removeAttribute('disabled');\n\t\t\t\t\tlet currentFormId = event.target.getAttribute('id');\n\t\t\t\t\tif (currentFormId === \"callBackForm\") {\n\t\t\t\t\t\tthis.sendFeedBack(fields, \"callBackForm\");\n\t\t\t\t\t} else if (currentFormId === \"hasQuestion\") {\n\t\t\t\t\t\tthis.sendFeedBack(fields, \"hasQuestion\");\n\t\t\t\t\t} else if (currentFormId === \"login-form\") {\n\t\t\t\t\t\tthis.login(fields)\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.registration(fields)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\tgetCookie (name) {\n\t\tlet matches = document.cookie.match(new RegExp(\n\t\t\t\"(?:^|; )\" + name.replace(/([\\.$?*|{}\\(\\)\\[\\]\\\\\\/\\+^])/g, '\\\\$1') + \"=([^;]*)\"\n\t\t));\n\t\treturn matches ? decodeURIComponent(matches[1]) : undefined;\n\t}\n\n\tsendFeedBack (fields, mode) {\n\t\tRrd.sendFeedBack(fields, mode);\n\t}\n\n\tregistration (fields) {\n\t\tRrd.registration(fields);\n\t}\n\n\tlogin (fields) {\n\t\tRrd.login(field)\n\t}\n\n\tsuccessModal() {\n\t\tdocument.querySelector('.hideTrigger').click();\n\t}\n}\n\n/** Export initialized popup scripts by default */\nexport default new Form();\n\n\n// WEBPACK FOOTER //\n// ./src/js/components/Form.js","export class Validator {\n\tconstructor() {}\n\tstatic validateName(firstName) {\n\t\tif (Validator.checkIfEmpty(firstName)) return;\n\t\tif (!Validator.checkIfOnlyLetters(firstName)) return;\n\t\treturn true;\n\t}\n\t// static validateLastName(lastName) {\n\t// \tif (checkIfEmpty(lastName)) return;\n\t// \tif (checkIfOnlyLetters(lastName)) return;\n\t// \treturn true;\n\t// }\n\tstatic validatePassword(password, minLength = 8, maxLength = 20) {\n\t\tif (Validator.checkIfEmpty(password)) return;\n\t\tif (Validator.meetLength(password, minLength, maxLength)) return;\n\t\tif (!Validator.containsCharacters(password, 2)) return;\n\t\t\n\t\treturn true;\n\t}\n\n\tstatic validatePrivacy(field) {\n\t\tif (field.checked !== true) {\n\t\t\tValidator.setInvalid(field, 'Это обязательное поле');\n\t\t\treturn;\n\t\t} else {\n\t\t\tValidator.setValid(field);\n\t\t}\n\t\treturn true;\n\t}\n\tstatic validateConfirmPassword(password, confirmPassword) {\n\t\tif (!password.classList.contains('valid')) {\n\t\t\tValidator.setInvalid(confirmPassword, 'Пароль должен быть валидным');\n\t\t\treturn;\n\t\t}\n\t\tif (password.value !== confirmPassword.value) {\n\t\t\tValidator.setInvalid(confirmPassword, 'Пароли должны совпадать');\n\t\t\treturn;\n\t\t} else {\n\t\t\tValidator.setValid(confirmPassword);\n\t\t}\n\t\treturn true;\n\t}\n\tstatic validateEmail(email) {\n\t\tif (Validator.checkIfEmpty(email)) return;\n\t\tif (Validator.containsCharacters(email, 5)) return;\n\t\treturn true;\n\t}\n\tstatic validatePhone(phone, minLength = 20, maxLength = 20) {\n\t\tif (Validator.checkIfEmpty(phone)) return;\n\t\tif (Validator.meetLength(phone, minLength, maxLength)) return;\n\t\tif (Validator.containsCharacters(phone, 6)) return;\n\t\treturn true;\n\t}\n\tstatic validateMessege(messege) {\n\t\tValidator.checkIfEmpty(messege);\n\t\treturn true;\n\t}\n\n\tstatic checkIfEmpty(field) {\n\t\tif (Validator.isEmpty(field.value.trim())) {\n\t\t\t// set field invalid\n\t\t\tValidator.setInvalid(field, `Это обязательное поле`);\n\t\t\treturn true;\n\t\t} else {\n\t\t\t// set field valid\n\t\t\tValidator.setValid(field);\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tstatic isEmpty(value) {\n\t\tif (value === '') return true;\n\t\treturn false;\n\t}\n\tstatic setInvalid = (field, message) => {\n\t\tfield.classList.remove('valid');\n\t\tfield.classList.add('invalid');\n\t\tif (field.name === 'privacy') {\n\t\t\tfield.parentNode.lastChild.innerHTML = message;\n\t\t} else {\n\t\t\tfield.nextElementSibling.innerHTML = message;\n\t\t}\n\t}\n\tstatic setValid(field) {\n\t\tfield.classList.remove('invalid');\n\t\tfield.classList.add('valid');\n\t\tif (!field.name === 'privacy') {\n\t\t\tfield.nextElementSibling.innerHTML = '';\n\t\t}\n\t}\n\tstatic checkIfOnlyLetters(field) {\n\t\tif (/^[a-zA-Zа-яА-ЯёЁ ]+$/.test(field.value)) {\n\t\t\tValidator.setValid(field);\n\t\t\treturn true;\n\t\t} else {\n\t\t\tValidator.setInvalid(field, `Поле должно содержать только буквы`);\n\t\t\treturn false;\n\t\t}\n\t}\n\tstatic meetLength(field, minLength, maxLength) {\n\t\tif (field.value.length >= minLength && field.value.length < maxLength) {\n\t\t\tValidator.setValid(field);\n\t\t\treturn false;\n\t\t} else if (field.value.length < minLength) {\n\t\t\tValidator.setInvalid(\n\t\t\t\tfield,\n\t\t\t\t`Поле должно содержать как минимум ${minLength} символов`\n\t\t\t);\n\t\t\treturn true;\n\t\t} else {\n\t\t\tValidator.setInvalid(\n\t\t\t\tfield,\n\t\t\t\t`Поле должно содержать меньше чем ${maxLength} символов`\n\t\t\t);\n\t\t\treturn true;\n\t\t}\n\t}\n\tstatic containsCharacters(field, code) {\n\t\tlet regEx;\n\t\tswitch (code) {\n\t\t\tcase 1:\n\t\t\t\t// letters\n\t\t\t\tregEx = /(?=.*[a-zA-Z])/g;\n\t\t\t\treturn Validator.matchWithRegEx(regEx, field, 'Должен содержать как минимум 1 букву');\n\t\t\tcase 2:\n\t\t\t\t// letter and numbers\n\t\t\t\tregEx = /(?=.*\\d)(?=.*[a-zA-Z])/g;\n\t\t\t\treturn Validator.matchWithRegEx(\n\t\t\t\t\tregEx,\n\t\t\t\t\tfield,\n\t\t\t\t\t'Должен содержать как минимум 1 букву и 1 цифру'\n\t\t\t\t);\n\t\t\tcase 3:\n\t\t\t\t// uppercase, lowercase and number\n\t\t\t\tregEx = /(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])/;\n\t\t\t\treturn Validator.matchWithRegEx(\n\t\t\t\t\tregEx,\n\t\t\t\t\tfield,\n\t\t\t\t\t'Must contain at least one uppercase, one lowercase letter and one number'\n\t\t\t\t);\n\t\t\tcase 4:\n\t\t\t\t// uppercase, lowercase, number and special char\n\t\t\t\tregEx = /(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?=.*\\W)/;\n\t\t\t\treturn Validator.matchWithRegEx(\n\t\t\t\t\tregEx,\n\t\t\t\t\tfield,\n\t\t\t\t\t'Must contain at least one uppercase, one lowercase letter, one number and one special character'\n\t\t\t\t);\n\t\t\tcase 5:\n\t\t\t\t// Email pattern\n\t\t\t\tregEx = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n\t\t\t\treturn Validator.matchWithRegEx(regEx, field, 'Должна быть валидная почта');\n\t\t\tcase 6:\n\t\t\t\t// Phone pattern\n\t\t\t\tregEx = /^[+]*[(]{0,1}[0-9]{1,4}[)]{0,1}[-\\s\\./0-9]*$/;\n\t\t\t\treturn Validator.matchWithRegEx(\n\t\t\t\t\tregEx,\n\t\t\t\t\tfield,\n\t\t\t\t\t'Должен содержать только номер'\n\t\t\t\t);\n\t\t\tdefault:\n\t\t\t\treturn false;\n\t\t}\n\t}\n\n\tstatic matchWithRegEx(regEx, field, message) {\n\t\tif (field.value.match(regEx)) {\n\t\t\tValidator.setValid(field);\n\t\t\treturn true;\n\t\t} else {\n\t\t\tValidator.setInvalid(field, message);\n\t\t\treturn false;\n\t\t}\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/components/Validators.js","/**\r\n * Website's common scripts (example).\r\n *\r\n * @module Rrd\r\n */\r\n\r\nexport class Rrd {\r\n\tconstructor() {\r\n\t\tlet self = this;\r\n\t\tthis.state = {\r\n      authorized: false,\r\n      \r\n      // urls\r\n      // apiHost: 'http://api.rrdoc.itt',\t// host dev\r\n\t\t\t// origin: 'http://rrdoc.itt',\r\n\t\t\tapiHost: 'https://api.rrdoc.ru',\t// host prod\r\n      origin: 'https://rrdoc.ru',\r\n      validToken: '/rest-auth/api-token-verify/'\r\n\t\t};\r\n\r\n\t\t// initialize after construction\r\n    self.init();\r\n\t}\r\n\r\n\t/**\r\n\t * Initialize common scripts.\r\n\t */\r\n\tinit() {\r\n    // this.state = this.checkAuth();\r\n    this.setFlagSeeLanding();\r\n    this.setAuthCookieForFeedback()\r\n  }\r\n  \r\n  // checkAuth () {\r\n  //   let tkn = this.getCookie('rrdtkn');\r\n  //   if (tkn !== undefined) {\r\n  //     let tknValid = this.checkValidToken(tkn);\r\n  //     if (tknValid === true) {\r\n  //       // this.startUpdateToken();\r\n  //       return true;\r\n  //     }\r\n  //   }\r\n  //   return false;\r\n  // }\r\n\r\n  // checkValidToken (tkn) {\r\n  //   let _url = this.state.apiHost + this.state.validToken\r\n  //   this.sendReqest('POST', _url, {token: tkn})\r\n  // }\r\n\r\n  setAuthCookieForFeedback () {\r\n\t\treturn new Promise(resolve => {\r\n\t\t\tif (this.getCookie('authHeader') !== undefined) {\t// если токен есть\r\n\t\t\t\tresolve(this.getCookie('authHeader'))\t// если уже есть токен\r\n\t\t\t} else { // если токена нет, то получить\r\n\t\t\t\tlet $formdata = new FormData();\r\n\t\t\t\t$formdata = {\r\n\t\t\t\t\temail: 'demo@rrdoc.ru',\r\n\t\t\t\t\tpassword: 'mLxkElOQ9mmw'\r\n\t\t\t\t};\r\n\t\t\t\tlet _url = this.state.apiHost + \"/rest-auth/login/\";\r\n\t\t\t\tlet request = new XMLHttpRequest();\r\n\t\t\t\trequest.open(\"POST\", _url)\r\n\t\t\t\trequest.open(\"POST\", _url);\r\n\t\t\t\trequest.setRequestHeader('Accept', 'application/json, text/plain, application/zip, */*');\r\n\t\t\t\trequest.setRequestHeader('Accept-Language', 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7');\r\n\t\t\t\trequest.setRequestHeader('Content-Type', 'application/json;charset=UTF-8');\r\n\t\t\t\trequest.send(JSON.stringify($formdata));\r\n\t\t\t\tlet self = this;\r\n\t\t\t\trequest.onload = function () {\r\n\t\t\t\t\tif (request.status === 200) {\r\n\t\t\t\t\t\tlet _cookieHeader = 'authHeader=' + JSON.parse(request.responseText).token + ';path=/;max-age=3600';\t// куки с новым токеном\r\n\t\t\t\t\t\tdocument.cookie = (_cookieHeader)\r\n\t\t\t\t\t\tresolve(JSON.parse(request.responseText).token)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t})\r\n  }\r\n  \r\n  sendFeedBack (fields, mode) {\r\n\t\tthis.setAuthCookieForFeedback().then(header => {\r\n\t\t\tlet $formdata = new FormData();\r\n\t\t\tif (mode === \"callBackForm\") {\r\n\t\t\t\t$formdata = {\r\n\t\t\t\t\ttitle: 'ПОЗВОНИ МНЕ',\r\n\t\t\t\t\ttext: fields[0].value\r\n\t\t\t\t};\r\n\t\t\t} else if (mode === \"hasQuestion\") {\r\n\t\t\t\t$formdata = {\r\n\t\t\t\t\ttitle: fields[1].value,\r\n\t\t\t\t\ttext: \"Имя обратившегося \" + fields[0].value + \"\\n\" + fields[2].value\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.postFeedBack($formdata).then(function () {\r\n\t\t\t\tif (mode === \"callBackForm\") {\r\n\t\t\t\t\tdocument.querySelector('.hideTrigger').click();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tdocument.querySelector('.hideTriggerFeedback').click();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t})\r\n  }\r\n  \r\n  postFeedBack (data) {\r\n\t\treturn new Promise(resolve => {\r\n\t\t\tlet _url = this.state.apiHost + '/api/v1/feedback/feed/'\r\n\t\t\tlet request = new XMLHttpRequest();\r\n\t\t\trequest.open(\"POST\", _url)\r\n\t\t\trequest.open(\"POST\", _url);\r\n\t\t\trequest.setRequestHeader('Accept', 'application/json, text/plain, application/zip, */*');\r\n\t\t\trequest.setRequestHeader('Accept-Language', 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7');\r\n\t\t\trequest.setRequestHeader('Content-Type', 'application/json;charset=UTF-8');\r\n\t\t\trequest.setRequestHeader('Authorization', 'Bearer ' + this.getCookie('authHeader'));\r\n\t\t\trequest.send(JSON.stringify(data));\r\n\t\t\tlet self = this;\r\n\t\t\trequest.onload = function () {\r\n\t\t\t\tif (request.status === 200 || request.status === 201) {\r\n\t\t\t\t\tresolve()\r\n\t\t\t\t\t// self.successModal();\r\n\t\t\t\t\t// document.querySelector('.hideTriggerFeedback').click();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t})\r\n  }\r\n  \r\n  registration (fields) {\r\n\t\tlet $formdata = new FormData();\r\n\t\t$formdata = {\r\n\t\t\tusername: fields[0].value,\r\n\t\t\temail: fields[0].value,\r\n\t\t\tpassword1: fields[1].value,\r\n\t\t\tpassword2: fields[2].value,\r\n\t\t\tfirst_name: 'default',\r\n\t\t\tlast_name: 'default',\r\n\t\t\tis_boss: false\r\n\t\t}\r\n\t\tlet _url = this.state.apiHost + \"/rest-auth/registration/\";\r\n\t\tlet request = new XMLHttpRequest();\r\n\t\trequest.open(\"POST\", _url);\r\n\t\trequest.setRequestHeader('Accept', 'application/json, text/plain, application/zip, */*');\r\n\t\trequest.setRequestHeader('Accept-Language', 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7');\r\n\t\trequest.setRequestHeader('Content-Type', 'application/json;charset=UTF-8');\r\n\t\trequest.send(JSON.stringify($formdata));\r\n\t\tlet self = this;\r\n\t\trequest.onload = function () {\r\n\t\t\tif (request.status === 201) {\r\n\t\t\t\talert('Не забудьте подтвердить свою почту');\r\n\t\t\t\tlet _link = self.state.origin + '/login';\r\n\t\t\t\tdocument.location.href = _link;\r\n\t\t\t} else {\r\n\t\t\t\t// alert('Не удлось зарегистрировать пользователя')\r\n\t\t\t\tlet err = JSON.parse(request.responseText)\r\n\t\t\t\tconsole.log(err)\r\n\t\t\t\tlet _errMessage = err.email[0] || err.password1[0] || err.username[0] || 'Не удалось зарегестрировать пользователя'\r\n\t\t\t\tValidator.setInvalid(fields[3], _errMessage)\r\n\t\t\t}\r\n\t\t}\r\n\t\trequest.onerror = function (err) {\r\n\t\t\t// alert('Не удалось зарегистрировать пользователя')\r\n\t\t\tconsole.log(err)\r\n\t\t\tlet _errMessage = err.email[0] || err.password1[0] || err.username[0] || 'Не удалось зарегестрировать пользователя'\r\n\t\t\tValidator.setInvalid(fields[3], _errMessage)\r\n\t\t}\r\n  }\r\n  \r\n  login (fields) {\r\n    let $formdata = new FormData();\r\n\t\t$formdata = {\r\n\t\t\temail: fields[0].value,\r\n\t\t\tpassword: fields[1].value\r\n\t\t}\r\n\t\tlet _url = this.state.apiHost + \"/rest-auth/login/\";\r\n\t\tlet request = new XMLHttpRequest();\r\n\t\trequest.open(\"POST\", _url);\r\n\t\trequest.setRequestHeader('Accept', 'application/json, text/plain, application/zip, */*');\r\n\t\trequest.setRequestHeader('Accept-Language', 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7');\r\n\t\trequest.setRequestHeader('Content-Type', 'application/json;charset=UTF-8');\r\n\t\trequest.send(JSON.stringify($formdata));\r\n\t\tlet self = this;\r\n\t\trequest.onload = function () {\r\n\t\t\tif (request.status === 200) {\r\n\t\t\t\tdocument.cookie = ('email=\"from@landing.com\"; path=/; max-age=360')\t// замена emai (может отстаться от демо-юзера и глядя на email основной клиент ставит флаг demoMode на true)\r\n\t\t\t\tdocument.cookie = ('rrdtkn=\"\"; path=/; max-age=-1')\t// на всякий случай удаление токена\r\n\t\t\t\tlet _rrdtkn = 'rrdtkn=' + JSON.parse(request.responseText).token + ';path=/' + ';max-age=360';\t// новый токен\r\n\t\t\t\tdocument.cookie = (_rrdtkn);\t// установка токена\r\n\t\t\t\tlet _link = self.state.origin;\r\n\t\t\t\tdocument.location.href = _link;\t// переход на основной клиент\r\n\r\n\t\t\t} else if (request.status === 400) {\r\n\t\t\t\t// alert('Не правильные логин или пароль')\r\n\t\t\t\tValidator.setInvalid(fields[1], 'Не верные логин или пароль')\r\n\t\t\t}\r\n\t\t}\r\n\t\trequest.onerror = function (err) {\r\n\t\t\tconsole.log(err)\r\n\t\t\talert('Не удалось войти')\r\n\t\t}\r\n  }\r\n\r\n  sendReqest (method, url, data) {\r\n    let request = new XMLHttpRequest();\r\n    request.open(method, url);\r\n    request = this.setHeaders(request);\r\n    request.send(JSON.stringify(data));\r\n    return request;\r\n  }\r\n\r\n  setHeaders (request) {\r\n    request.setRequestHeader('Accept', 'application/json, text/plain, application/zip, */*');\r\n\t\trequest.setRequestHeader('Accept-Language', 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7');\r\n    request.setRequestHeader('Content-Type', 'application/json;charset=UTF-8');\r\n    return request;\r\n  }\r\n\r\n  getCookie (name) {\r\n\t\tlet matches = document.cookie.match(new RegExp(\r\n\t\t\t\"(?:^|; )\" + name.replace(/([\\.$?*|{}\\(\\)\\[\\]\\\\\\/\\+^])/g, '\\\\$1') + \"=([^;]*)\"\r\n\t\t));\r\n\t\treturn matches ? decodeURIComponent(matches[1]) : undefined;\r\n\t}\r\n\r\n  setFlagSeeLanding () {\r\n    window.localStorage.setItem('didYouSeeOurLanding', true);\r\n\t\tdocument.cookie = ('authHeader=\"zxc\"; path=/; max-age=-1');\r\n  }\r\n}\r\n\r\n/** Export initialized common scripts by default */\r\nexport default new Rrd();\n\n\n// WEBPACK FOOTER //\n// ./src/js/components/Rrd.js","/**\n * Home page scripts.\n *\n * @module Home\n */\nexport default class Home {\n\t/**\n\t * Cache data, make preparations and initialize page scripts.\n\t */\n\tconstructor() {\n\n\n\t\t// initialize after construction\n\t\tthis.init();\n\t}\n\n\t/**\n\t * Initialize Home page scripts.\n\t */\n\tinit() {\n\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/pages/Home.js"],"sourceRoot":""}