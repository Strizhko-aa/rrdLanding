!function(e){function t(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=1)}([function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();t.currentPage=document.querySelector("main").dataset.page,t.Resp=function(){function e(){o(this,e)}return i(e,null,[{key:"currWidth",get:function(){return window.innerWidth}},{key:"isTouch",get:function(){return"ontouchstart"in window}},{key:"isDesk",get:function(){return window.matchMedia("(min-width: 1280px)").matches}},{key:"isTablet",get:function(){return window.matchMedia("(max-width: 992px)").matches}},{key:"isMobile",get:function(){return window.matchMedia("(max-width: 767px)").matches}}]),e}(),t.css={active:"active"},t.randomString=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return Math.random().toString(36).substr(2,e>10?e:10)},t.debounce=function(e,t,n,o){var i=void 0;return function(){var r=arguments,a=function(){i=null,o||e.apply(t,r)},s=o&&!i;clearTimeout(i),i=setTimeout(a,n),s&&e.apply(t,r)}},t.fadeOut=function(e){e.style.opacity=1,function t(){(e.style.opacity-=.1)<0?e.style.display="none":requestAnimationFrame(t)}()},t.fadeIn=function(e,t){e.style.opacity=0,e.style.display=t||"block",function t(){var n=parseFloat(e.style.opacity);(n+=.1)>1||(e.style.opacity=n,requestAnimationFrame(t))}()},t.easings={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return e<.5?2*e*e:(4-2*e)*e-1},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return--e*e*e+1},easeInOutCubic:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e}}},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}var i=n(2),r=(o(i),n(6)),a=(o(r),n(7)),s=(o(a),n(9)),c=o(s);switch(n(0).currentPage){case"home":new c.default;break;default:console.warn("Undefined page")}},function(e,t,n){"use strict";function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.Common=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(0);n(3),n(4),n(5);var c=t.Common=function(){function e(){i(this,e);var t=this;this.state={scrollTrigger:null,anchorLinks:document.querySelectorAll(".js-links"),activeBlock:null,blockBreakpoints:[],sectionEls:[]},document.addEventListener("DOMContentLoaded",function(e){t.init()})}return a(e,[{key:"init",value:function(){this.fixHeader(),this.toogleMenu(),this.scrollInvoke(),this.resizeCheck(),this.inputFocus(),this.openTabs(),this.getActiveSceen()}},{key:"resizeCheck",value:function(){function e(){!0===s.Resp.isTablet?t.state.scrollTrigger=0:t.state.scrollTrigger=39}var t=this,n=void 0;window.addEventListener("resize",function(){clearTimeout(n),n=setTimeout(function(){e()},300)})}},{key:"fixHeader",value:function(){var e=this,t=document.querySelector(".js-header");!0===s.Resp.isTablet?e.state.scrollTrigger=0:e.state.scrollTrigger=39,window.onscroll=function(){(window.pageYOffset||document.documentElement.scrollTop)>e.state.scrollTrigger?t.classList.add("fixed"):t.classList.remove("fixed")}}},{key:"toogleMenu",value:function(){var e=document.querySelector(".js-burger"),t=document.querySelector(".main-nav");e.addEventListener("click",function(){e.classList.toggle("is-open"),t.classList.toggle("menu-open")})}},{key:"scrollTo",value:function(e){function t(){var e="now"in window.performance?performance.now():(new Date).getTime(),c=Math.min(1,(e-a)/n),u=s.easings[o](c);if(window.scroll(0,Math.ceil(u*(d-r)+r)),window.pageYOffset===d)return void(i&&i());requestAnimationFrame(t)}var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"linear",i=arguments[3],r=window.pageYOffset,a="now"in window.performance?performance.now():(new Date).getTime(),c=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight),u=window.innerHeight||document.documentElement.clientHeight||document.getElementsByTagName("body")[0].clientHeight,l="number"==typeof e?e:e.offsetTop-100,d=Math.round(c-l<u?c-u:l);if("requestAnimationFrame"in window==!1)return window.scroll(0,d),void(i&&i());t()}},{key:"scrollInvoke",value:function(){for(var e=this,t=0;t<this.state.anchorLinks.length;t++){this.state.anchorLinks[t].addEventListener("click",function(t){var n=t.target.getAttribute("data-to");e.scrollTo(document.getElementById(n),1500,"easeOutQuint",function(){document.querySelector(".activeAnchor")&&document.querySelector(".activeAnchor").classList.remove("activeAnchor"),t.target.parentNode.classList.add("activeAnchor");var e=document.querySelector(".menu-open"),n=document.querySelector(".js-burger");e&&n.click()})})}}},{key:"inputFocus",value:function(){for(var e=document.querySelectorAll(".js-input"),t=0;t<e.length;t++)!function(t){var n=e[t];n.addEventListener("focus",function(){n.parentNode.classList.add("is-focused")}),n.addEventListener("blur",function(){0===n.value.length&&n.parentNode.classList.remove("is-focused")}),""!==n.value&&n.parentNode.classList.add("is-focused")}(t)}},{key:"openTabs",value:function(){for(var e=document.querySelectorAll(".js-open-tab"),t=0;t<e.length;t++){var n=function(t){var n=e[t],o=n.nextElementSibling,i=n;if(o.length<1||i.length<1)return{v:void 0};n.addEventListener("click",function(e){n.classList.toggle("is-open");var t=(" "+o.className+" ").replace(/[\n\t\r]/g," "),i="slide-down",r="slide-up";return t.indexOf(" "+i+" ")>-1||(i=[r,r=i][0]),o.className=(t.replace(" "+i+" ","")+" "+r+" ").trim(),!1})}(t);if("object"===(void 0===n?"undefined":r(n)))return n.v}}},{key:"getActiveSceen",value:function(){document.querySelectorAll(".js-section"),document.querySelectorAll(".js-leave");this.calculateAdjustedBlockPositions(),this.initObserver()}},{key:"calculateAdjustedBlockPositions",value:function(){this.state.sectionEls=Array.prototype.slice.call(document.querySelectorAll(".js-section"));var e=window.innerHeight,t=document.body.offsetHeight,n=document.documentElement.scrollTop;this.state.blockBreakpoints=this.state.sectionEls.map(function(o){var i=o.getBoundingClientRect().top,r=i+n;return r-r*(e/t)})}},{key:"initObserver",value:function(){var e=this,t={threshold:[].concat(o(Array(10))).map(function(e,t){return.1*t}),bottom:500},n=function(t){var n=document.documentElement.scrollTop;e.state.blockBreakpoints.find(function(t,o){Math.abs(n-t)<100&&(e.state.activeBlock=o,e.state.anchorLinks.forEach(function(e){e.parentNode.classList.remove("activeAnchor")}),e.state.anchorLinks[e.state.activeBlock].parentNode.classList.add("activeAnchor"))})},i=new IntersectionObserver(n,t);this.state.sectionEls.forEach(function(e){return i.observe(e)})}}]),e}();t.default=new c},function(e,t,n){"use strict";var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(){function e(e){this.time=e.time,this.target=e.target,this.rootBounds=e.rootBounds,this.boundingClientRect=e.boundingClientRect,this.intersectionRect=e.intersectionRect||u(),this.isIntersecting=!!e.intersectionRect;var t=this.boundingClientRect,n=t.width*t.height,o=this.intersectionRect,i=o.width*o.height;this.intersectionRatio=n?+(i/n).toFixed(4):this.isIntersecting?1:0}function t(e,t){var n=t||{};if("function"!=typeof e)throw Error("callback must be a function");if(n.root&&1!=n.root.nodeType)throw Error("root must be an Element");this._checkForIntersections=i(this._checkForIntersections.bind(this),this.THROTTLE_TIMEOUT),this._callback=e,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(n.rootMargin),this.thresholds=this._initThresholds(n.threshold),this.root=n.root||null,this.rootMargin=this._rootMarginValues.map(function(e){return e.value+e.unit}).join(" ")}function n(){return window.performance&&performance.now&&performance.now()}function i(e,t){var n=null;return function(){n||(n=setTimeout(function(){e(),n=null},t))}}function r(e,t,n,o){"function"==typeof e.addEventListener?e.addEventListener(t,n,o||!1):"function"==typeof e.attachEvent&&e.attachEvent("on"+t,n)}function a(e,t,n,o){"function"==typeof e.removeEventListener?e.removeEventListener(t,n,o||!1):"function"==typeof e.detatchEvent&&e.detatchEvent("on"+t,n)}function s(e,t){var n=Math.max(e.top,t.top),o=Math.min(e.bottom,t.bottom),i=Math.max(e.left,t.left),r=Math.min(e.right,t.right),a=r-i,s=o-n;return a>=0&&s>=0&&{top:n,bottom:o,left:i,right:r,width:a,height:s}}function c(e){var t;try{t=e.getBoundingClientRect()}catch(e){}return t?(t.width&&t.height||(t={top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.right-t.left,height:t.bottom-t.top}),t):u()}function u(){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}function l(e,t){for(var n=t;n;){if(n==e)return!0;n=d(n)}return!1}function d(e){var t=e.parentNode;return t&&11==t.nodeType&&t.host?t.host:t&&t.assignedSlot?t.assignedSlot.parentNode:t}if("object"===("undefined"==typeof window?"undefined":o(window))){if("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype)return void("isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}}));var f=window.document,h=[];t.prototype.THROTTLE_TIMEOUT=100,t.prototype.POLL_INTERVAL=null,t.prototype.USE_MUTATION_OBSERVER=!0,t.prototype.observe=function(e){if(!this._observationTargets.some(function(t){return t.element==e})){if(!e||1!=e.nodeType)throw Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:e,entry:null}),this._monitorIntersections(),this._checkForIntersections()}},t.prototype.unobserve=function(e){this._observationTargets=this._observationTargets.filter(function(t){return t.element!=e}),this._observationTargets.length||(this._unmonitorIntersections(),this._unregisterInstance())},t.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorIntersections(),this._unregisterInstance()},t.prototype.takeRecords=function(){var e=this._queuedEntries.slice();return this._queuedEntries=[],e},t.prototype._initThresholds=function(e){var t=e||[0];return Array.isArray(t)||(t=[t]),t.sort().filter(function(e,t,n){if("number"!=typeof e||isNaN(e)||e<0||e>1)throw Error("threshold must be a number between 0 and 1 inclusively");return e!==n[t-1]})},t.prototype._parseRootMargin=function(e){var t=e||"0px",n=t.split(/\s+/).map(function(e){var t=/^(-?\d*\.?\d+)(px|%)$/.exec(e);if(!t)throw Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(t[1]),unit:t[2]}});return n[1]=n[1]||n[0],n[2]=n[2]||n[0],n[3]=n[3]||n[1],n},t.prototype._monitorIntersections=function(){this._monitoringIntersections||(this._monitoringIntersections=!0,this.POLL_INTERVAL?this._monitoringInterval=setInterval(this._checkForIntersections,this.POLL_INTERVAL):(r(window,"resize",this._checkForIntersections,!0),r(f,"scroll",this._checkForIntersections,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in window&&(this._domObserver=new MutationObserver(this._checkForIntersections),this._domObserver.observe(f,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))))},t.prototype._unmonitorIntersections=function(){this._monitoringIntersections&&(this._monitoringIntersections=!1,clearInterval(this._monitoringInterval),this._monitoringInterval=null,a(window,"resize",this._checkForIntersections,!0),a(f,"scroll",this._checkForIntersections,!0),this._domObserver&&(this._domObserver.disconnect(),this._domObserver=null))},t.prototype._checkForIntersections=function(){var t=this._rootIsInDom(),o=t?this._getRootRect():u();this._observationTargets.forEach(function(i){var r=i.element,a=c(r),s=this._rootContainsTarget(r),u=i.entry,l=t&&s&&this._computeTargetAndRootIntersection(r,o),d=i.entry=new e({time:n(),target:r,boundingClientRect:a,rootBounds:o,intersectionRect:l});u?t&&s?this._hasCrossedThreshold(u,d)&&this._queuedEntries.push(d):u&&u.isIntersecting&&this._queuedEntries.push(d):this._queuedEntries.push(d)},this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)},t.prototype._computeTargetAndRootIntersection=function(e,t){if("none"!=window.getComputedStyle(e).display){for(var n=c(e),o=n,i=d(e),r=!1;!r;){var a=null,u=1==i.nodeType?window.getComputedStyle(i):{};if("none"==u.display)return;if(i==this.root||i==f?(r=!0,a=t):i!=f.body&&i!=f.documentElement&&"visible"!=u.overflow&&(a=c(i)),a&&!(o=s(a,o)))break;i=d(i)}return o}},t.prototype._getRootRect=function(){var e;if(this.root)e=c(this.root);else{var t=f.documentElement,n=f.body;e={top:0,left:0,right:t.clientWidth||n.clientWidth,width:t.clientWidth||n.clientWidth,bottom:t.clientHeight||n.clientHeight,height:t.clientHeight||n.clientHeight}}return this._expandRectByRootMargin(e)},t.prototype._expandRectByRootMargin=function(e){var t=this._rootMarginValues.map(function(t,n){return"px"==t.unit?t.value:t.value*(n%2?e.width:e.height)/100}),n={top:e.top-t[0],right:e.right+t[1],bottom:e.bottom+t[2],left:e.left-t[3]};return n.width=n.right-n.left,n.height=n.bottom-n.top,n},t.prototype._hasCrossedThreshold=function(e,t){var n=e&&e.isIntersecting?e.intersectionRatio||0:-1,o=t.isIntersecting?t.intersectionRatio||0:-1;if(n!==o)for(var i=0;i<this.thresholds.length;i++){var r=this.thresholds[i];if(r==n||r==o||r<n!=r<o)return!0}},t.prototype._rootIsInDom=function(){return!this.root||l(f,this.root)},t.prototype._rootContainsTarget=function(e){return l(this.root||f,e)},t.prototype._registerInstance=function(){h.indexOf(this)<0&&h.push(this)},t.prototype._unregisterInstance=function(){var e=h.indexOf(this);-1!=e&&h.splice(e,1)},window.IntersectionObserver=t,window.IntersectionObserverEntry=e}}()},function(e,t,n){"use strict";Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var o=arguments[1],i=0;i<n;){var r=t[i];if(e.call(o,r,i,t))return r;i++}},configurable:!0,writable:!0})},function(e,t,n){"use strict";"NodeList"in window&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(e,t){t=t||window;for(var n=0;n<this.length;n++)e.call(t,this[n],n,this)})},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.Popup=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=n(0),a=t.Popup=function(){function e(){o(this,e);var t=this;this.state={popup:null,animationInner:!1,animationName:"",animatedElement:null,body:document.querySelector("body"),header:document.querySelector("header"),mainTag:document.querySelector("main")},document.addEventListener("DOMContentLoaded",function(e){t.openModalWindow(),t.closeModalWindow()})}return i(e,[{key:"openModalWindow",value:function(){for(var e=this,t=document.querySelectorAll(".js-open-p"),n=0;n<t.length;n++)!function(n){var o=t[n];o.addEventListener("click",function(){e.state.popup=document.querySelector("."+o.getAttribute("data-open")),e.state.animationInner=e.state.popup.getAttribute("data-animate"),"true"===e.state.animationInner?(e.state.animatedElement=e.state.popup.querySelector("[data-animation-name]"),e.state.animationName=e.state.animatedElement.getAttribute("data-animation-name"),setTimeout(function(){e.state.animatedElement.classList.add(e.state.animationName)},350)):e.state.animationInner=!1,e.state.popup&&((0,r.fadeIn)(e.state.popup),e.fixScrollBody())})}(n)}},{key:"closeModalWindow",value:function(){var e=this,t=void 0,n=document.querySelectorAll(".js-close-popup");t=".success-popup"===e.state.popup?650:350;for(var o=0;o<n.length;o++){n[o].addEventListener("click",function(){e.state.animatedElement.classList.remove(e.state.animationName),setTimeout(function(){(0,r.fadeOut)(e.state.popup),e.returnScrollBody()},t)})}}},{key:"fixScrollBody",value:function(){var e=(window.innerWidth,this.state.body.offsetWidth,window.innerWidth-this.state.body.offsetWidth);this.state.mainTag.style.paddingRight=e+"px",this.state.header.style.paddingRight=e+"px",this.state.body.style.overflow="hidden"}},{key:"returnScrollBody",value:function(){this.state.body.style.overflow="",this.state.mainTag.style.paddingRight="",this.state.header.style.paddingRight=""}}]),e}();t.default=new a},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.Form=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=n(8),a=t.Form=function(){function e(){o(this,e);var t=this;this.state={formValid:!1,currentForm:null,apiHost:"https://api.rrdoc.ru",origin:"https://rrdoc.ru"},window.localStorage.setItem("didYouSeeOurLanding",!0),document.cookie='authHeader="zxc"; path=/; max-age=-1',document.addEventListener("DOMContentLoaded",function(e){t.submitForm()})}return i(e,[{key:"validateFields",value:function(e){function t(e,t,n){return e.classList.contains("valid")}for(var n=0;n<e.length;n++){var o=e[n];switch(o.getAttribute("name")){case"name":r.Validator.validateName(o);break;case"email":r.Validator.validateEmail(o);break;case"passwordLogin":r.Validator.setValid(o);break;case"password":r.Validator.validatePassword(o);break;case"privacy":r.Validator.validatePrivacy(o);break;case"password-repeat":r.Validator.validateConfirmPassword(e[1],e[2]);break;case"phone":r.Validator.validatePhone(o,7,20);break;case"messege":r.Validator.validateMessege(o)}}var i=Array.prototype.slice.call(e);if(!0===i.every(t)?this.formValid=!0:this.formValid=!1,!0===this.formValid)for(var a=0;a<i.length;a++){var s=i[a],c=s.parentNode.querySelector(".validate-message");c.innerHTML=""}}},{key:"submitForm",value:function(){for(var e=this,t=document.querySelectorAll(".js-forms"),n=0;n<t.length;n++){t[n].addEventListener("submit",function(t){t.preventDefault();var n=t.target.querySelector('button[type="submit"]'),o=t.target.querySelectorAll(".js-validate");if(e.validateFields(o),!0===e.formValid){n.removeAttribute("disabled");var i=t.target.getAttribute("id");"callBackForm"===i?e.sendFeedBack(o,"callBackForm"):"hasQuestion"===i?e.sendFeedBack(o,"hasQuestion"):"login-form"===i?e.login(o):e.registration(o)}})}}},{key:"setAuthCookieForFeedback",value:function(){var e=this;return new Promise(function(t){if(void 0!==e.getCookie("authHeader"))t(e.getCookie("authHeader"));else{var n=new FormData;n={email:"demo@rrdoc.ru",password:"mLxkElOQ9mmw"};var o=e.state.apiHost+"/rest-auth/login/",i=new XMLHttpRequest;i.open("POST",o),i.open("POST",o),i.setRequestHeader("Accept","application/json, text/plain, application/zip, */*"),i.setRequestHeader("Accept-Language","ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7"),i.setRequestHeader("Content-Type","application/json;charset=UTF-8"),i.send(JSON.stringify(n));i.onload=function(){if(200===i.status){var e="authHeader="+JSON.parse(i.responseText).token+";path=/";document.cookie=e,t(JSON.parse(i.responseText).token)}}}})}},{key:"getCookie",value:function(e){var t=document.cookie.match(RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0}},{key:"sendFeedBack",value:function(e,t){var n=this;this.setAuthCookieForFeedback().then(function(o){var i=new FormData;"callBackForm"===t?i={title:"ПОЗВОНИ МНЕ",text:e[0].value}:"hasQuestion"===t&&(i={title:e[1].value,text:"Имя обратившегося "+e[0].value+"\n"+e[2].value}),n.postFeedBack(i).then(function(){"callBackForm"===t?document.querySelector(".hideTrigger").click():document.querySelector(".hideTriggerFeedback").click()})})}},{key:"postFeedBack",value:function(e){var t=this;return new Promise(function(n){var o=t.state.apiHost+"/api/v1/feedback/feed/",i=new XMLHttpRequest;i.open("POST",o),i.open("POST",o),i.setRequestHeader("Accept","application/json, text/plain, application/zip, */*"),i.setRequestHeader("Accept-Language","ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7"),i.setRequestHeader("Content-Type","application/json;charset=UTF-8"),i.setRequestHeader("Authorization","Bearer "+t.getCookie("authHeader")),i.send(JSON.stringify(e));i.onload=function(){200!==i.status&&201!==i.status||n()}})}},{key:"registration",value:function(e){var t=new FormData;t={username:e[0].value,email:e[0].value,password1:e[1].value,password2:e[2].value,first_name:"default",last_name:"default",is_boss:!1};var n=this.state.apiHost+"/rest-auth/registration/",o=new XMLHttpRequest;o.open("POST",n),o.setRequestHeader("Accept","application/json, text/plain, application/zip, */*"),o.setRequestHeader("Accept-Language","ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7"),o.setRequestHeader("Content-Type","application/json;charset=UTF-8"),o.send(JSON.stringify(t));var i=this;o.onload=function(){if(201===o.status){alert("Не забудьте подтвердить свою почту");var t=i.state.origin+"/login";document.location.href=t}else{var n=JSON.parse(o.responseText);console.log(n);var a=n.email[0]||n.password1[0]||n.username[0]||"Не удалось зарегестрировать пользователя";r.Validator.setInvalid(e[3],a)}},o.onerror=function(t){console.log(t);var n=t.email[0]||t.password1[0]||t.username[0]||"Не удалось зарегестрировать пользователя";r.Validator.setInvalid(e[3],n)}}},{key:"login",value:function(e){var t=new FormData;t={email:e[0].value,password:e[1].value};var n=this.state.apiHost+"/rest-auth/login/",o=new XMLHttpRequest;o.open("POST",n),o.setRequestHeader("Accept","application/json, text/plain, application/zip, */*"),o.setRequestHeader("Accept-Language","ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7"),o.setRequestHeader("Content-Type","application/json;charset=UTF-8"),o.send(JSON.stringify(t));var i=this;o.onload=function(){if(200===o.status){document.cookie='email="from@landing.com"; path=/; max-age=360',document.cookie='rrdtkn=""; path=/; max-age=-1';var t="rrdtkn="+JSON.parse(o.responseText).token+";path=/;max-age=360";document.cookie=t;var n=i.state.origin;document.location.href=n}else 400===o.status&&r.Validator.setInvalid(e[1],"Не верные логин или пароль")},o.onerror=function(e){console.log(e),alert("Не удалось войти")}}},{key:"successModal",value:function(){document.querySelector(".hideTrigger").click()}}]),e}();t.default=new a},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();(t.Validator=function(){function e(){o(this,e)}return i(e,null,[{key:"validateName",value:function(t){if(!e.checkIfEmpty(t)&&e.checkIfOnlyLetters(t))return!0}},{key:"validatePassword",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20;if(!e.checkIfEmpty(t)&&!e.meetLength(t,n,o)&&e.containsCharacters(t,2))return!0}},{key:"validatePrivacy",value:function(t){return!0!==t.checked?void e.setInvalid(t,"Это обязательное поле"):(e.setValid(t),!0)}},{key:"validateConfirmPassword",value:function(t,n){return t.classList.contains("valid")?t.value!==n.value?void e.setInvalid(n,"Пароли должны совпадать"):(e.setValid(n),!0):void e.setInvalid(n,"Пароль должен быть валидным")}},{key:"validateEmail",value:function(t){if(!e.checkIfEmpty(t)&&!e.containsCharacters(t,5))return!0}},{key:"validatePhone",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20;if(!e.checkIfEmpty(t)&&!e.meetLength(t,n,o)&&!e.containsCharacters(t,6))return!0}},{key:"validateMessege",value:function(t){return e.checkIfEmpty(t),!0}},{key:"checkIfEmpty",value:function(t){return e.isEmpty(t.value.trim())?(e.setInvalid(t,"Это обязательное поле"),!0):(e.setValid(t),!1)}},{key:"isEmpty",value:function(e){return""===e}},{key:"setValid",value:function(e){e.classList.remove("invalid"),e.classList.add("valid"),"privacy"===!e.name&&(e.nextElementSibling.innerHTML="")}},{key:"checkIfOnlyLetters",value:function(t){return/^[a-zA-Zа-яА-ЯёЁ ]+$/.test(t.value)?(e.setValid(t),!0):(e.setInvalid(t,"Поле должно содержать только буквы"),!1)}},{key:"meetLength",value:function(t,n,o){return t.value.length>=n&&t.value.length<o?(e.setValid(t),!1):t.value.length<n?(e.setInvalid(t,"Поле должно содержать как минимум "+n+" символов"),!0):(e.setInvalid(t,"Поле должно содержать меньше чем "+o+" символов"),!0)}},{key:"containsCharacters",value:function(t,n){var o=void 0;switch(n){case 1:return o=/(?=.*[a-zA-Z])/g,e.matchWithRegEx(o,t,"Должен содержать как минимум 1 букву");case 2:return o=/(?=.*\d)(?=.*[a-zA-Z])/g,e.matchWithRegEx(o,t,"Должен содержать как минимум 1 букву и 1 цифру");case 3:return o=/(?=.*\d)(?=.*[a-z])(?=.*[A-Z])/,e.matchWithRegEx(o,t,"Must contain at least one uppercase, one lowercase letter and one number");case 4:return o=/(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*\W)/,e.matchWithRegEx(o,t,"Must contain at least one uppercase, one lowercase letter, one number and one special character");case 5:return o=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,e.matchWithRegEx(o,t,"Должна быть валидная почта");case 6:return o=/^[+]*[(]{0,1}[0-9]{1,4}[)]{0,1}[-\s\.\/0-9]*$/,e.matchWithRegEx(o,t,"Должен содержать только номер");default:return!1}}},{key:"matchWithRegEx",value:function(t,n,o){return n.value.match(t)?(e.setValid(n),!0):(e.setInvalid(n,o),!1)}}]),e}()).setInvalid=function(e,t){e.classList.remove("valid"),e.classList.add("invalid"),"privacy"===e.name?e.parentNode.lastChild.innerHTML=t:e.nextElementSibling.innerHTML=t}},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=function(){function e(){o(this,e),this.init()}return i(e,[{key:"init",value:function(){}}]),e}();t.default=r}]);